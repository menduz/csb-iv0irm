{"version":3,"sources":["node_modules/process/browser.js","node_modules/base64-js/index.js","node_modules/ieee754/index.js","node_modules/isarray/index.js","node_modules/buffer/index.js","node_modules/glsl-canvas-js/dist/glsl-canvas.js","src/Renderer.js","src/Shader.js","src/index.js"],"names":["cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","runClearTimeout","marker","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","Item","array","noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","r","n","t","o","f","c","require","u","a","code","p","setImmediate","setTimeoutFunc","isArray","x","Boolean","Promise","fn","TypeError","_state","_handled","_value","undefined","_deferreds","doResolve","handle","self","deferred","_immediateFn","cb","onFulfilled","onRejected","ret","reject","promise","resolve","newValue","then","finale","thisArg","bind","_unhandledRejectionFn","Handler","done","value","reason","ex","prom","constructor","finallyConstructor","callback","all","arr","slice","remaining","res","val","race","err","console","warn","clearImmediate","Function","immediateIds","nextImmediateId","Timeout","id","clearFn","_id","_clearFn","window","setInterval","clearInterval","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","_possibleConstructorReturn","_typeof","_assertThisInitialized","ReferenceError","_getPrototypeOf","Object","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","obj","Symbol","iterator","__importDefault","mod","__esModule","factory","v","define","amd","context_1","BufferFloatType","iterable_1","BuffersDefaultFragment","BuffersDefaultFragment2","Buffer","gl","BW","BH","index","buffer","createFramebuffer","texture","getTexture","texParameteri","TEXTURE_2D","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","floatType","extension","FLOAT","extensionName","default","isWebGl2","getExtension","HALF_FLOAT","getFloatType","_extensionName","HALF_FLOAT_OES","createTexture","status","activeTexture","TEXTURE0","bindTexture","texImage2D","RGBA16F","RGBA","checkFramebufferStatus","FRAMEBUFFER","FRAMEBUFFER_COMPLETE","bindFramebuffer","pixels","minW","Math","min","minH","Float32Array","readPixels","newIndex","newTexture","texSubImage2D","newBuffer","deleteTexture","IOBuffer","vertexString","fragmentString","isValid","vertexShader","createShader","VERTEX_SHADER","fragmentShader","FRAGMENT_SHADER","program","createProgram","linkProgram","input","output","deleteShader","useProgram","viewport","framebufferTexture2D","COLOR_ATTACHMENT0","drawArrays","TRIANGLES","resize","deleteProgram","Buffers","_iterable_1$default","_inherits","subClass","superClass","create","get","keys","values","buffers","count","replace","regexp","matches","exec","bufferFragmentString","drawingBufferWidth","drawingBufferHeight","set","Common","url","xhr","XMLHttpRequest","onload","response","responseText","onerror","error","ontimeout","onabort","open","send","common_1","logger_1","ContextDefaultVertex","ContextDefaultFragment","ContextDefaultVertex2","ContextDefaultFragment2","ContextOptions","ContextVersion","ContextError","ContextVertexBuffers","Context","canvas","options","names","context","getContext","regex","match","promises","fetch","chunks","join","WebGLRenderingContext","WebGL2RenderingContext","source","indexOf","WebGl2","WebGl","currentVersion","newVersion","inferVersion","attributes","errorCallback","handleError","errorCode","html","container","parentNode","innerHTML","inferContext","Other","BrowserSupport","getContext_","getContext2_","type","offset","shader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","lastError","getShaderInfoLog","shaders","locations","attachShader","_i","bindAttribLocation","getProgramParameter","LINK_STATUS","getProgramInfoLog","log","vertexBuffers","texcoordIndex","getAttribLocation","texcoord","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","enableVertexAttribArray","vertexAttribPointer","positionIndex","position","__importStar","result","k","hasOwnProperty","buffers_1","subscriber_1","textures_1","uniforms_1","GlslCanvasOptions","_context_1$ContextOpt","GlslCanvasTimer","delay","current","delta","paused","start","previous","now","performance","GlslCanvas","_subscriber_1$default","_this","mouse","y","uniforms","textures","textureList","valid","animated","dirty","visible","width","height","rect","getBoundingClientRect","devicePixelRatio","style","backgroundColor","getShaders_","success","load","addListeners_","onLoop","items","_this2","urls","hasAttribute","vertex","getAttribute","fragment","map","body","onScroll","onClick","onMove","onMousemove","onMouseover","onMouseout","onTouchmove","onTouchend","onTouchstart","addEventListener","document","addCanvasListeners_","pause","removeEventListener","cancelAnimationFrame","rafId","removeCanvasListeners_","toggle","trigger","mx","my","left","top","clientX","pageX","clientY","pageY","play","touch","touches","reduce","time","checkRender","requestAnimationFrame","_this3","uniform","parseUniform","isArrayOfSampler2D","forEach","loadTexture","UniformType","Sampler2D","_this4","ext","split","pop","toLowerCase","TextureExtensions","has","_this5","timer","hasDelta","hasTime","hasDate","hasMouse","hasTextures","parseTextures_","classList","add","remove","UniformMethod","Uniform2f","Float","Uniform1f","date","Date","Uniform4f","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","Uniform1i","filter","setTexture","next","update","_key","tryUpdate","innerHeight","documentElement","clientHeight","W","ceil","clientWidth","H","_this6","getIncludes","createContext_","getVertex","getFragment","versionDiffers","destroyContext_","swapCanvas_","tryInferContext","onError","getBuffers","createVertexBuffers","createUniforms_","_this7","query","createQueryEXT","wasValid","render","beginQueryEXT","TIME_ELAPSED_EXT","endQueryEXT","waitForTest","available","getQueryObjectEXT","QUERY_RESULT_AVAILABLE_EXT","disjoint","getParameter","GPU_DISJOINT_EXT","timeElapsedMs","QUERY_RESULT_EXT","destroy","_key2","canvas_","cloneNode","replaceChild","removeListeners_","splice","urlElementOrData","_this8","createOrUpdate","workpath","keyResolution","message","path","setUniform_","_len","_key3","Int","setUniform","isVisible_","sizeDidChanged_","isAnimated_","isDirty_","updateUniforms_","clean","find","canvases","getElementsByClassName","HTMLCanvasElement","of","logger","loadAll","NumberMap","StringMap","IterableStringMap","callbackfn","initialValue","Logger","_console","enabled","_console2","_console3","Listener","event","Subscriber","Set","listener","delete","clear","data","TextureSourceType","TextureFilteringType","TextureImageExtensions","TextureVideoExtensions","TextureInput","TextureData","TextureOptions","Texture","powerOf2","setData","Uint8Array","filtering","Linear","setUrl","element","setElement","sourceType","Url","assign","src","String","createElement","setAttribute","loop","muted","isSafari","crossOrigin","originalElement","querySelector","HTMLImageElement","HTMLVideoElement","Element","video","setFiltering","JSON","stringify","Data","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","naturalWidth","naturalHeight","UNSIGNED_BYTE","videoWidth","videoHeight","imageBuffer","isPowerOf2","MipMap","wrapS","repeat","REPEAT","wrapT","LINEAR_MIPMAP_LINEAR","LINEAR","generateMipmap","Nearest","test","navigator","userAgent","text","getTextureOptions","MAX_TEXTURE_SIZE","isTextureUrl","Textures","textureOptions","flag","METHODS_INT","Uniform2i","Uniform3i","Uniform4i","METHODS_FLOAT","Uniform3f","METHODS_INTV","Uniform1iv","Uniform2iv","Uniform3iv","Uniform4iv","METHODS_FLOATV","Uniform1fv","Uniform2fv","Uniform3fv","Uniform4fv","Uniform","location","getUniformLocation","method","UniformTexture","_Uniform","Uniforms","b","Number","isInteger","isTexture","Unknown","subject","isArrayOfNumber","isArrayOfBoolean","Bool","isArrayOfTexture","isVector","getType_","getMethod_","isDifferent","previousRendering","main","appendChild","glsl","extensions","antialias","asd"],"mappings":"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","file":"src.e47c5d9b.js","sourceRoot":"..","sourcesContent":["// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}],2:[function(require,module,exports){\n(function (setImmediate){\n'use strict';\n\n/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        // @ts-ignore\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction isArray(x) {\n  return Boolean(x && typeof x.length !== 'undefined');\n}\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = finallyConstructor;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.all accepts an array'));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.race accepts an array'));\n    }\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      Promise.resolve(arr[i]).then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  // @ts-ignore\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      // @ts-ignore\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nmodule.exports = Promise;\n\n}).call(this,require(\"timers\").setImmediate)\n},{\"timers\":3}],3:[function(require,module,exports){\n(function (setImmediate,clearImmediate){\nvar nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n}).call(this,require(\"timers\").setImmediate,require(\"timers\").clearImmediate)\n},{\"process/browser.js\":1,\"timers\":3}],4:[function(require,module,exports){\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\n(function (factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    var v = factory(require, exports);\n    if (v !== undefined) module.exports = v;\n  } else if (typeof define === \"function\" && define.amd) {\n    define([\"require\", \"exports\", \"./context\", \"./iterable\"], factory);\n  }\n})(function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var context_1 = __importDefault(require(\"./context\"));\n\n  var iterable_1 = __importDefault(require(\"./iterable\"));\n\n  exports.BuffersDefaultFragment = \"\\nvoid main(){\\n\\tgl_FragColor = vec4(1.0);\\n}\";\n  exports.BuffersDefaultFragment2 = \"#version 300 es\\n\\nprecision mediump float;\\n\\nout vec4 outColor;\\n\\nvoid main() {\\n\\toutColor = vec4(1.0);\\n}\\n\";\n  var BufferFloatType;\n\n  (function (BufferFloatType) {\n    BufferFloatType[BufferFloatType[\"FLOAT\"] = 0] = \"FLOAT\";\n    BufferFloatType[BufferFloatType[\"HALF_FLOAT\"] = 1] = \"HALF_FLOAT\";\n  })(BufferFloatType = exports.BufferFloatType || (exports.BufferFloatType = {}));\n\n  var Buffer =\n  /*#__PURE__*/\n  function () {\n    function Buffer(gl, BW, BH, index) {\n      _classCallCheck(this, Buffer);\n\n      var buffer = gl.createFramebuffer();\n      var texture = this.getTexture(gl, BW, BH, index);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      this.texture = texture;\n      this.buffer = buffer;\n      this.BW = BW;\n      this.BH = BH;\n      this.index = index;\n    }\n\n    _createClass(Buffer, [{\n      key: \"getFloatType\",\n      value: function getFloatType(gl) {\n        var floatType, extension;\n\n        if (Buffer.floatType === BufferFloatType.FLOAT) {\n          var extensionName = context_1.default.isWebGl2(gl) ? 'EXT_color_buffer_float' : 'OES_texture_float';\n          extension = gl.getExtension(extensionName);\n\n          if (extension) {\n            floatType = gl.FLOAT;\n          } else {\n            Buffer.floatType = BufferFloatType.HALF_FLOAT;\n            return this.getFloatType(gl);\n          }\n        } else {\n          var _extensionName = context_1.default.isWebGl2(gl) ? 'EXT_color_buffer_half_float' : 'OES_texture_half_float';\n\n          extension = gl.getExtension(_extensionName);\n\n          if (extension) {\n            floatType = extension.HALF_FLOAT_OES;\n          } else {\n            Buffer.floatType = BufferFloatType.FLOAT;\n            return this.getFloatType(gl);\n          }\n        }\n\n        return floatType;\n      }\n    }, {\n      key: \"getTexture\",\n      value: function getTexture(gl, BW, BH, index) {\n        var floatType = this.getFloatType(gl);\n        var texture = gl.createTexture();\n        gl.activeTexture(gl.TEXTURE0 + index);\n        gl.bindTexture(gl.TEXTURE_2D, texture);\n        gl.texImage2D(gl.TEXTURE_2D, 0, context_1.default.isWebGl2(gl) ? gl.RGBA16F : gl.RGBA, BW, BH, 0, gl.RGBA, floatType, null);\n        var status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n\n        if (status !== gl.FRAMEBUFFER_COMPLETE) {\n          if (Buffer.floatType === BufferFloatType.FLOAT) {\n            Buffer.floatType = BufferFloatType.HALF_FLOAT;\n          } else {\n            Buffer.floatType = BufferFloatType.FLOAT;\n          }\n\n          return this.getTexture(gl, BW, BH, index);\n        }\n\n        return texture;\n      }\n    }, {\n      key: \"resize\",\n      value: function resize(gl, BW, BH) {\n        if (BW !== this.BW || BH !== this.BH) {\n          var buffer = this.buffer;\n          var texture = this.texture;\n          var index = this.index;\n          gl.bindFramebuffer(gl.FRAMEBUFFER, buffer);\n          var status = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n          var minW = Math.min(BW, this.BW);\n          var minH = Math.min(BH, this.BH);\n          var pixels;\n          var floatType = this.getFloatType(gl);\n\n          if (status === gl.FRAMEBUFFER_COMPLETE) {\n            pixels = new Float32Array(minW * minH * 4);\n            gl.readPixels(0, 0, minW, minH, gl.RGBA, floatType, pixels);\n          }\n\n          gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n          var newIndex = index + 1; // temporary index\n\n          var newTexture = this.getTexture(gl, BW, BH, newIndex);\n          floatType = this.getFloatType(gl);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n          if (pixels) {\n            gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, minW, minH, gl.RGBA, floatType, pixels);\n          }\n\n          var newBuffer = gl.createFramebuffer();\n          gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n          gl.deleteTexture(texture);\n          gl.activeTexture(gl.TEXTURE0 + index);\n          gl.bindTexture(gl.TEXTURE_2D, newTexture);\n          this.index = index;\n          this.texture = newTexture;\n          this.buffer = newBuffer;\n          this.BW = BW;\n          this.BH = BH;\n        }\n      }\n    }]);\n\n    return Buffer;\n  }();\n\n  exports.Buffer = Buffer;\n  Buffer.floatType = BufferFloatType.HALF_FLOAT;\n\n  var IOBuffer =\n  /*#__PURE__*/\n  function () {\n    function IOBuffer(index, key, vertexString, fragmentString) {\n      _classCallCheck(this, IOBuffer);\n\n      this.isValid = false;\n      this.index = index;\n      this.key = key;\n      this.vertexString = vertexString;\n      this.fragmentString = fragmentString;\n    }\n\n    _createClass(IOBuffer, [{\n      key: \"create\",\n      value: function create(gl, BW, BH) {\n        // console.log('create', this.vertexString, this.fragmentString);\n        var vertexShader = context_1.default.createShader(gl, this.vertexString, gl.VERTEX_SHADER);\n        var fragmentShader = context_1.default.createShader(gl, this.fragmentString, gl.FRAGMENT_SHADER, 1);\n\n        if (!fragmentShader) {\n          fragmentShader = context_1.default.createShader(gl, context_1.default.isWebGl2(gl) ? exports.BuffersDefaultFragment2 : exports.BuffersDefaultFragment, gl.FRAGMENT_SHADER);\n          this.isValid = false;\n        } else {\n          this.isValid = true;\n        }\n\n        var program = context_1.default.createProgram(gl, [vertexShader, fragmentShader]);\n        gl.linkProgram(program);\n        var input = new Buffer(gl, BW, BH, this.index + 0);\n        var output = new Buffer(gl, BW, BH, this.index + 2);\n        this.program = program;\n        this.input = input;\n        this.output = output;\n        gl.deleteShader(vertexShader);\n        gl.deleteShader(fragmentShader);\n      }\n    }, {\n      key: \"render\",\n      value: function render(gl, BW, BH) {\n        gl.useProgram(this.program);\n        gl.viewport(0, 0, BW, BH);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, this.output.buffer);\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.output.texture, 0);\n        gl.drawArrays(gl.TRIANGLES, 0, 6); // swap\n\n        var input = this.input;\n        var output = this.output;\n        this.input = output;\n        this.output = input;\n      }\n    }, {\n      key: \"resize\",\n      value: function resize(gl, BW, BH) {\n        gl.useProgram(this.program);\n        gl.viewport(0, 0, BW, BH);\n        this.input.resize(gl, BW, BH);\n        this.output.resize(gl, BW, BH);\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy(gl) {\n        gl.deleteProgram(this.program);\n        this.program = null;\n        this.input = null;\n        this.output = null;\n      }\n    }]);\n\n    return IOBuffer;\n  }();\n\n  exports.IOBuffer = IOBuffer;\n\n  var Buffers =\n  /*#__PURE__*/\n  function (_iterable_1$default) {\n    _inherits(Buffers, _iterable_1$default);\n\n    function Buffers() {\n      _classCallCheck(this, Buffers);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(Buffers).apply(this, arguments));\n    }\n\n    _createClass(Buffers, [{\n      key: \"count\",\n      get: function get() {\n        return Object.keys(this.values).length * 4;\n      }\n    }], [{\n      key: \"getBuffers\",\n      value: function getBuffers(gl, fragmentString, vertexString) {\n        var buffers = new Buffers();\n        var count = 0;\n\n        if (fragmentString) {\n          if (context_1.default.isWebGl2(gl)) {\n            fragmentString = fragmentString.replace(/^\\#version\\s*300\\s*es\\s*\\n/, '');\n          }\n\n          var regexp = /(?:^\\s*)((?:#if|#elif)(?:\\s*)(defined\\s*\\(\\s*BUFFER_)(\\d+)(?:\\s*\\))|(?:#ifdef)(?:\\s*BUFFER_)(\\d+)(?:\\s*))/gm;\n          var matches;\n\n          while ((matches = regexp.exec(fragmentString)) !== null) {\n            var i = matches[3] || matches[4];\n            var key = 'u_buffer' + i;\n            var bufferFragmentString = context_1.default.isWebGl2(gl) ? \"#version 300 es\\n#define BUFFER_\".concat(i, \"\\n\").concat(fragmentString) : \"#define BUFFER_\".concat(i, \"\\n\").concat(fragmentString);\n            var buffer = new IOBuffer(count, key, vertexString, bufferFragmentString);\n            buffer.create(gl, gl.drawingBufferWidth, gl.drawingBufferHeight);\n            buffers.set(key, buffer);\n            count += 4;\n          }\n        }\n\n        return buffers;\n      }\n    }]);\n\n    return Buffers;\n  }(iterable_1.default);\n\n  exports.default = Buffers;\n});\n\n},{\"./context\":6,\"./iterable\":8}],5:[function(require,module,exports){\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n(function (factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    var v = factory(require, exports);\n    if (v !== undefined) module.exports = v;\n  } else if (typeof define === \"function\" && define.amd) {\n    define([\"require\", \"exports\", \"promise-polyfill\"], factory);\n  }\n})(function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  require(\"promise-polyfill\");\n\n  var Common =\n  /*#__PURE__*/\n  function () {\n    function Common() {\n      _classCallCheck(this, Common);\n    }\n\n    _createClass(Common, null, [{\n      key: \"fetch\",\n      value: function fetch(url) {\n        // console.log('fetch', url);\n        return new Promise(function (resolve, reject) {\n          var xhr = new XMLHttpRequest();\n\n          xhr.onload = function () {\n            resolve(xhr.response || xhr.responseText);\n          };\n\n          xhr.onerror = function (error) {\n            // console.log(error);\n            reject(new Error(\"Network request failed for url \".concat(url)));\n          };\n\n          xhr.ontimeout = function (error) {\n            // console.log(error);\n            reject(new Error(\"Network request failed for url \".concat(url)));\n          };\n\n          xhr.onabort = function () {\n            reject(new Error('Aborted'));\n          };\n\n          xhr.open('GET', url, true);\n          xhr.send(null);\n        });\n      }\n    }]);\n\n    return Common;\n  }();\n\n  exports.default = Common;\n});\n\n},{\"promise-polyfill\":2}],6:[function(require,module,exports){\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\n(function (factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    var v = factory(require, exports);\n    if (v !== undefined) module.exports = v;\n  } else if (typeof define === \"function\" && define.amd) {\n    define([\"require\", \"exports\", \"./common\", \"./logger\"], factory);\n  }\n})(function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var common_1 = __importDefault(require(\"./common\"));\n\n  var logger_1 = __importDefault(require(\"./logger\"));\n\n  exports.ContextDefaultVertex = \"\\n#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\nattribute vec2 a_position;\\nattribute vec2 a_texcoord;\\n\\nvarying vec2 v_texcoord;\\n\\nvoid main(){\\n\\tgl_Position = vec4(a_position, 0.0, 1.0);\\n\\tv_texcoord = a_texcoord;\\n}\\n\";\n  exports.ContextDefaultFragment = \"\\n#ifdef GL_ES\\nprecision mediump float;\\n#endif\\n\\nvoid main(){\\n\\tgl_FragColor = vec4(0.0);\\n}\\n\";\n  exports.ContextDefaultVertex2 = \"#version 300 es\\n\\nin vec2 a_position;\\nin vec2 a_texcoord;\\n\\nout vec2 v_texcoord;\\n\\nvoid main() {\\n\\tgl_Position = vec4(a_position, 0.0, 1.0);\\n\\tv_texcoord = a_texcoord;\\n}\\n\";\n  exports.ContextDefaultFragment2 = \"#version 300 es\\n\\nprecision mediump float;\\n\\nout vec4 outColor;\\n\\nvoid main() {\\n\\toutColor = vec4(0.0);\\n}\\n\";\n\n  var ContextOptions = function ContextOptions() {\n    _classCallCheck(this, ContextOptions);\n  };\n\n  exports.ContextOptions = ContextOptions;\n  var ContextVersion;\n\n  (function (ContextVersion) {\n    ContextVersion[ContextVersion[\"WebGl\"] = 1] = \"WebGl\";\n    ContextVersion[ContextVersion[\"WebGl2\"] = 2] = \"WebGl2\";\n  })(ContextVersion = exports.ContextVersion || (exports.ContextVersion = {}));\n\n  var ContextError;\n\n  (function (ContextError) {\n    ContextError[ContextError[\"BrowserSupport\"] = 1] = \"BrowserSupport\";\n    ContextError[ContextError[\"Other\"] = 2] = \"Other\";\n  })(ContextError = exports.ContextError || (exports.ContextError = {}));\n\n  var ContextVertexBuffers = function ContextVertexBuffers() {\n    _classCallCheck(this, ContextVertexBuffers);\n  };\n\n  exports.ContextVertexBuffers = ContextVertexBuffers;\n\n  var Context =\n  /*#__PURE__*/\n  function () {\n    function Context() {\n      _classCallCheck(this, Context);\n    }\n\n    _createClass(Context, null, [{\n      key: \"getContext_\",\n      value: function getContext_(canvas, options) {\n        var names = ['webgl', 'experimental-webgl'];\n        var context = null;\n\n        for (var i = 0; i < names.length; ++i) {\n          try {\n            context = canvas.getContext(names[i], options);\n          } catch (e) {\n            if (context) {\n              break;\n            }\n          }\n        }\n\n        return context;\n      }\n    }, {\n      key: \"getContext2_\",\n      value: function getContext2_(canvas, options) {\n        var context = null;\n\n        try {\n          context = canvas.getContext('webgl2', options);\n        } catch (e) {// console.error('GlslCanvas.Context.getContext2_.error', e);\n        }\n\n        return context;\n      }\n    }, {\n      key: \"getIncludes\",\n      value: function getIncludes(input) {\n        if (input === undefined) {\n          return Promise.resolve(input);\n        }\n\n        var regex = /#include\\s*['|\"](.*.glsl)['|\"]/gm;\n        var promises = [];\n        var i = 0;\n        var match;\n\n        while ((match = regex.exec(input)) !== null) {\n          promises.push(Promise.resolve(input.slice(i, match.index)));\n          i = match.index + match[0].length;\n          promises.push(common_1.default.fetch(match[1]));\n        }\n\n        promises.push(Promise.resolve(input.slice(i)));\n        return Promise.all(promises).then(function (chunks) {\n          return chunks.join('');\n        });\n      }\n    }, {\n      key: \"isWebGl\",\n      value: function isWebGl(context) {\n        return context instanceof WebGLRenderingContext;\n      }\n    }, {\n      key: \"isWebGl2\",\n      value: function isWebGl2(context) {\n        // console.log(context);\n        // return context !== undefined && typeof (context as any).bindBufferRange === 'function';\n        return window.WebGL2RenderingContext && context instanceof WebGL2RenderingContext;\n      }\n    }, {\n      key: \"inferVersion\",\n      value: function inferVersion(vertexString, fragmentString) {\n        var source = vertexString || fragmentString;\n\n        if (source) {\n          return source.indexOf('#version 300 es') === 0 ? ContextVersion.WebGl2 : ContextVersion.WebGl;\n        } else {\n          return ContextVersion.WebGl;\n        }\n      }\n    }, {\n      key: \"versionDiffers\",\n      value: function versionDiffers(gl, vertexString, fragmentString) {\n        if (gl) {\n          var currentVersion = this.isWebGl2(gl) ? ContextVersion.WebGl2 : ContextVersion.WebGl;\n          var newVersion = Context.inferVersion(vertexString, fragmentString);\n          return newVersion !== currentVersion;\n        } else {\n          return false;\n        }\n      }\n    }, {\n      key: \"getVertex\",\n      value: function getVertex(vertexString, fragmentString) {\n        if (vertexString) {\n          return vertexString;\n        } else {\n          var version = this.inferVersion(vertexString, fragmentString);\n          return version === ContextVersion.WebGl2 ? exports.ContextDefaultVertex2 : exports.ContextDefaultVertex;\n        }\n      }\n    }, {\n      key: \"getFragment\",\n      value: function getFragment(vertexString, fragmentString) {\n        if (fragmentString) {\n          return fragmentString;\n        } else {\n          var version = this.inferVersion(vertexString, fragmentString);\n          return version === ContextVersion.WebGl2 ? exports.ContextDefaultFragment2 : exports.ContextDefaultFragment;\n        }\n      }\n    }, {\n      key: \"tryInferContext\",\n      value: function tryInferContext(vertexString, fragmentString, canvas, attributes, errorCallback) {\n        function handleError(errorCode, html) {\n          if (typeof errorCallback === 'function') {\n            errorCallback(errorCode);\n          } else {\n            var container = canvas.parentNode;\n\n            if (container) {\n              container.innerHTML = \"<div class=\\\"glsl-canvas--error\\\">\".concat(html, \"</div>\");\n            }\n          }\n        }\n\n        if (!WebGLRenderingContext) {\n          handleError(ContextError.BrowserSupport, \"This page requires a browser that supports WebGL.<br/>\\n\\t\\t\\t<a href=\\\"http://get.webgl.org\\\">Click here to upgrade your browser.</a>\");\n          return;\n        }\n\n        var context = Context.inferContext(vertexString, fragmentString, canvas, attributes);\n\n        if (!context) {\n          handleError(ContextError.Other, \"It does not appear your computer can support WebGL.<br/>\\n\\t\\t\\t<a href=\\\"http://get.webgl.org/troubleshooting/\\\">Click here for more information.</a>\");\n        } else {\n          if (!this.isWebGl2(context)) {\n            context.getExtension('OES_standard_derivatives');\n          }\n        }\n\n        return context;\n      }\n    }, {\n      key: \"tryGetContext\",\n      value: function tryGetContext(canvas, attributes, errorCallback) {\n        function handleError(errorCode, html) {\n          if (typeof errorCallback === 'function') {\n            errorCallback(errorCode);\n          } else {\n            var container = canvas.parentNode;\n\n            if (container) {\n              container.innerHTML = \"<div class=\\\"glsl-canvas--error\\\">\".concat(html, \"</div>\");\n            }\n          }\n        }\n\n        if (!WebGLRenderingContext) {\n          handleError(ContextError.BrowserSupport, \"This page requires a browser that supports WebGL.<br/>\\n\\t\\t\\t<a href=\\\"http://get.webgl.org\\\">Click here to upgrade your browser.</a>\");\n          return null;\n        }\n\n        var context = Context.getContext_(canvas, attributes);\n\n        if (!context) {\n          handleError(ContextError.Other, \"It does not appear your computer can support WebGL.<br/>\\n\\t\\t\\t<a href=\\\"http://get.webgl.org/troubleshooting/\\\">Click here for more information.</a>\");\n        } else {\n          context.getExtension('OES_standard_derivatives');\n        }\n\n        return context;\n      }\n    }, {\n      key: \"inferContext\",\n      value: function inferContext(vertexString, fragmentString, canvas, options) {\n        var version = this.inferVersion(vertexString, fragmentString);\n        return version === ContextVersion.WebGl2 ? this.getContext2_(canvas, options) : this.getContext_(canvas, options);\n      }\n    }, {\n      key: \"createShader\",\n      value: function createShader(gl, source, type) {\n        var offset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        var shader = gl.createShader(type);\n        gl.shaderSource(shader, source);\n        gl.compileShader(shader);\n        var compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n\n        if (!compiled) {\n          // Something went wrong during compilation; get the error\n          Context.lastError = gl.getShaderInfoLog(shader); // console.log('lastError', Context.lastError);\n\n          logger_1.default.error('*** Error compiling shader ' + shader + ':' + Context.lastError); // main.trigger('error', {\n\n          gl.deleteShader(shader);\n          throw {\n            shader: shader,\n            source: source,\n            type: type,\n            error: Context.lastError,\n            offset: offset\n          };\n        }\n\n        return shader;\n      }\n    }, {\n      key: \"createProgram\",\n      value: function createProgram(gl, shaders, attributes, locations) {\n        var program = gl.createProgram();\n\n        for (var i = 0; i < shaders.length; ++i) {\n          gl.attachShader(program, shaders[i]);\n        }\n\n        if (attributes && locations) {\n          for (var _i = 0; _i < attributes.length; ++_i) {\n            gl.bindAttribLocation(program, locations ? locations[_i] : _i, attributes[_i]);\n          }\n        }\n\n        gl.linkProgram(program); // Check the link status\n\n        var linked = gl.getProgramParameter(program, gl.LINK_STATUS);\n\n        if (!linked) {\n          // something went wrong with the link\n          Context.lastError = gl.getProgramInfoLog(program);\n          logger_1.default.log('Error in program linking:' + Context.lastError);\n          gl.deleteProgram(program);\n          return null;\n        }\n\n        return program;\n      }\n    }, {\n      key: \"createVertexBuffers\",\n      value: function createVertexBuffers(gl, program) {\n        var vertexBuffers = new ContextVertexBuffers();\n        var texcoordIndex = gl.getAttribLocation(program, 'a_texcoord');\n        vertexBuffers.texcoord = gl.createBuffer();\n        gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffers.texcoord);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 0.0, 1.0, 1.0]), gl.STATIC_DRAW);\n        gl.enableVertexAttribArray(texcoordIndex);\n        gl.vertexAttribPointer(texcoordIndex, 2, gl.FLOAT, false, 0, 0);\n        var positionIndex = gl.getAttribLocation(program, 'a_position');\n        vertexBuffers.position = gl.createBuffer();\n        gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffers.position);\n        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1.0, -1.0, 1.0, -1.0, -1.0, 1.0, -1.0, 1.0, 1.0, -1.0, 1.0, 1.0]), gl.STATIC_DRAW);\n        gl.enableVertexAttribArray(positionIndex);\n        gl.vertexAttribPointer(positionIndex, 2, gl.FLOAT, false, 0, 0);\n        return vertexBuffers;\n      }\n    }]);\n\n    return Context;\n  }();\n\n  exports.default = Context;\n  Context.lastError = '';\n});\n\n},{\"./common\":5,\"./logger\":9}],7:[function(require,module,exports){\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\n(function (factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    var v = factory(require, exports);\n    if (v !== undefined) module.exports = v;\n  } else if (typeof define === \"function\" && define.amd) {\n    define([\"require\", \"exports\", \"promise-polyfill\", \"./buffers\", \"./common\", \"./context\", \"./logger\", \"./subscriber\", \"./textures\", \"./uniforms\"], factory);\n  }\n})(function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  }); // import '@babel/polyfill';\n\n  require(\"promise-polyfill\");\n\n  var buffers_1 = __importDefault(require(\"./buffers\"));\n\n  var common_1 = __importDefault(require(\"./common\"));\n\n  var context_1 = __importStar(require(\"./context\"));\n\n  var logger_1 = __importDefault(require(\"./logger\"));\n\n  var subscriber_1 = __importDefault(require(\"./subscriber\"));\n\n  var textures_1 = __importStar(require(\"./textures\"));\n\n  var uniforms_1 = __importStar(require(\"./uniforms\"));\n\n  var GlslCanvasOptions =\n  /*#__PURE__*/\n  function (_context_1$ContextOpt) {\n    _inherits(GlslCanvasOptions, _context_1$ContextOpt);\n\n    function GlslCanvasOptions() {\n      _classCallCheck(this, GlslCanvasOptions);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(GlslCanvasOptions).apply(this, arguments));\n    }\n\n    return GlslCanvasOptions;\n  }(context_1.ContextOptions);\n\n  exports.GlslCanvasOptions = GlslCanvasOptions;\n\n  var GlslCanvasTimer =\n  /*#__PURE__*/\n  function () {\n    function GlslCanvasTimer() {\n      _classCallCheck(this, GlslCanvasTimer);\n\n      this.delay = 0.0;\n      this.current = 0.0;\n      this.delta = 0.0;\n      this.paused = false;\n      this.start = this.previous = this.now();\n    }\n\n    _createClass(GlslCanvasTimer, [{\n      key: \"now\",\n      value: function now() {\n        return performance.now();\n      }\n    }, {\n      key: \"play\",\n      value: function play() {\n        if (this.previous) {\n          var now = this.now();\n          this.delay += now - this.previous;\n          this.previous = now;\n        } // Logger.log(this.delay);\n\n\n        this.paused = false;\n      }\n    }, {\n      key: \"pause\",\n      value: function pause() {\n        this.paused = true;\n      }\n    }, {\n      key: \"next\",\n      value: function next() {\n        var now = this.now();\n        this.delta = now - this.previous;\n        this.current = now - this.start - this.delay;\n        this.previous = now;\n        return this;\n      }\n    }]);\n\n    return GlslCanvasTimer;\n  }();\n\n  exports.GlslCanvasTimer = GlslCanvasTimer;\n\n  var GlslCanvas =\n  /*#__PURE__*/\n  function (_subscriber_1$default) {\n    _inherits(GlslCanvas, _subscriber_1$default);\n\n    function GlslCanvas(canvas) {\n      var _this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {// alpha: true,\n        // antialias: true,\n        // premultipliedAlpha: true\n      };\n\n      _classCallCheck(this, GlslCanvas);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(GlslCanvas).call(this));\n      _this.mouse = {\n        x: 0,\n        y: 0\n      };\n      _this.uniforms = new uniforms_1.default();\n      _this.buffers = new buffers_1.default();\n      _this.textures = new textures_1.default();\n      _this.textureList = [];\n      _this.valid = false;\n      _this.animated = false;\n      _this.dirty = true;\n      _this.visible = false;\n\n      if (!canvas) {\n        return _possibleConstructorReturn(_this);\n      }\n\n      _this.options = options;\n      _this.canvas = canvas;\n      _this.width = 0; // canvas.clientWidth;\n\n      _this.height = 0; // canvas.clientHeight;\n\n      _this.rect = canvas.getBoundingClientRect();\n      _this.devicePixelRatio = window.devicePixelRatio || 1;\n      canvas.style.backgroundColor = options.backgroundColor || 'rgba(0,0,0,0)';\n\n      _this.getShaders_().then(function (success) {\n        /*\n        const v = this.vertexString = options.vertexString || this.vertexString;\n        const f = this.fragmentString = options.fragmentString || this.fragmentString;\n        this.vertexString = Context.getVertex(v, f);\n        this.fragmentString = Context.getFragment(v, f);\n        const gl = Context.tryInferContext(v, f, canvas, options, options.onError);\n        if (!gl) {\n            return;\n        }\n        this.gl = gl;\n        */\n        _this.load().then(function (success) {\n          if (!_this.program) {\n            return;\n          }\n\n          _this.addListeners_();\n\n          _this.onLoop();\n        });\n      }, function (error) {\n        logger_1.default.log('GlslCanvas.getShaders_.error', error);\n      });\n\n      GlslCanvas.items.push(_assertThisInitialized(_this));\n      return _this;\n    }\n\n    _createClass(GlslCanvas, [{\n      key: \"getShaders_\",\n      value: function getShaders_() {\n        var _this2 = this;\n\n        return new Promise(function (resolve, reject) {\n          var canvas = _this2.canvas;\n          var urls = {};\n\n          if (canvas.hasAttribute('data-vertex-url')) {\n            urls.vertex = canvas.getAttribute('data-vertex-url');\n          }\n\n          if (canvas.hasAttribute('data-fragment-url')) {\n            urls.fragment = canvas.getAttribute('data-fragment-url');\n          }\n\n          if (canvas.hasAttribute('data-vertex')) {\n            _this2.vertexString = canvas.getAttribute('data-vertex');\n          }\n\n          if (canvas.hasAttribute('data-fragment')) {\n            _this2.fragmentString = canvas.getAttribute('data-fragment');\n          }\n\n          if (Object.keys(urls).length) {\n            Promise.all(Object.keys(urls).map(function (key, i) {\n              var url = urls[key];\n              return common_1.default.fetch(url) // .then((response) => response.text())\n              .then(function (body) {\n                if (key === 'vertex') {\n                  return _this2.vertexString = body;\n                } else {\n                  return _this2.fragmentString = body;\n                }\n              });\n            })).then(function (shaders) {\n              resolve([_this2.vertexString, _this2.fragmentString]);\n            });\n          } else {\n            resolve([_this2.vertexString, _this2.fragmentString]);\n          }\n        });\n      }\n    }, {\n      key: \"addListeners_\",\n      value: function addListeners_() {\n        /*\n        const resize = (e: Event) => {\n            this.rect = this.canvas.getBoundingClientRect();\n            this.trigger('resize', e);\n        };\n        */\n        this.onScroll = this.onScroll.bind(this);\n        this.onClick = this.onClick.bind(this);\n        this.onMove = this.onMove.bind(this);\n        this.onMousemove = this.onMousemove.bind(this);\n        this.onMouseover = this.onMouseover.bind(this);\n        this.onMouseout = this.onMouseout.bind(this);\n        this.onTouchmove = this.onTouchmove.bind(this);\n        this.onTouchend = this.onTouchend.bind(this);\n        this.onTouchstart = this.onTouchstart.bind(this);\n        this.onLoop = this.onLoop.bind(this); // window.addEventListener('resize', this.onResize);\n\n        window.addEventListener('scroll', this.onScroll);\n        document.addEventListener('mousemove', this.onMousemove, false);\n        document.addEventListener('touchmove', this.onTouchmove);\n        this.addCanvasListeners_();\n      }\n    }, {\n      key: \"addCanvasListeners_\",\n      value: function addCanvasListeners_() {\n        if (this.canvas.hasAttribute('controls')) {\n          this.canvas.addEventListener('click', this.onClick);\n          this.canvas.addEventListener('mouseover', this.onMouseover);\n          this.canvas.addEventListener('mouseout', this.onMouseout);\n          this.canvas.addEventListener('touchstart', this.onTouchstart);\n\n          if (!this.canvas.hasAttribute('data-autoplay')) {\n            this.pause();\n          }\n        }\n      }\n    }, {\n      key: \"removeCanvasListeners_\",\n      value: function removeCanvasListeners_() {\n        if (this.canvas.hasAttribute('controls')) {\n          this.canvas.removeEventListener('click', this.onClick);\n          this.canvas.removeEventListener('mouseover', this.onMouseover);\n          this.canvas.removeEventListener('mouseout', this.onMouseout);\n          this.canvas.removeEventListener('touchstart', this.onTouchstart);\n        }\n      }\n    }, {\n      key: \"removeListeners_\",\n      value: function removeListeners_() {\n        window.cancelAnimationFrame(this.rafId); // window.removeEventListener('resize', this.onResize);\n\n        window.removeEventListener('scroll', this.onScroll);\n        document.removeEventListener('mousemove', this.onMousemove);\n        document.removeEventListener('touchmove', this.onTouchmove);\n        this.removeCanvasListeners_();\n      }\n    }, {\n      key: \"onScroll\",\n      value: function onScroll(e) {\n        this.rect = this.canvas.getBoundingClientRect();\n      }\n    }, {\n      key: \"onClick\",\n      value: function onClick(e) {\n        this.toggle();\n        this.trigger('click', e);\n      }\n    }, {\n      key: \"onMove\",\n      value: function onMove(mx, my) {\n        /*\n        const rect = this.rect, gap = 20;\n        const x = Math.max(-gap, Math.min(rect.width + gap, (mx - rect.left) * this.devicePixelRatio));\n        const y = Math.max(-gap, Math.min(rect.height + gap, (this.canvas.height - (my - rect.top) * this.devicePixelRatio)));\n        */\n        var rect = this.rect;\n        var x = (mx - rect.left) * this.devicePixelRatio;\n        var y = (rect.height - (my - rect.top)) * this.devicePixelRatio;\n\n        if (x !== this.mouse.x || y !== this.mouse.y) {\n          this.mouse.x = x;\n          this.mouse.y = y;\n          this.trigger('move', this.mouse);\n        }\n      }\n    }, {\n      key: \"onMousemove\",\n      value: function onMousemove(e) {\n        this.onMove(e.clientX || e.pageX, e.clientY || e.pageY);\n      }\n    }, {\n      key: \"onMouseover\",\n      value: function onMouseover(e) {\n        this.play();\n        this.trigger('over', e);\n      }\n    }, {\n      key: \"onMouseout\",\n      value: function onMouseout(e) {\n        this.pause();\n        this.trigger('out', e);\n      }\n    }, {\n      key: \"onTouchmove\",\n      value: function onTouchmove(e) {\n        var touch = [].slice.call(e.touches).reduce(function (p, touch) {\n          p = p || {\n            x: 0,\n            y: 0\n          };\n          p.x += touch.clientX;\n          p.y += touch.clientY;\n          return p;\n        }, null);\n\n        if (touch) {\n          this.onMove(touch.x / e.touches.length, touch.y / e.touches.length);\n        }\n      }\n    }, {\n      key: \"onTouchend\",\n      value: function onTouchend(e) {\n        this.pause();\n        this.trigger('out', e);\n        document.removeEventListener('touchend', this.onTouchend);\n      }\n    }, {\n      key: \"onTouchstart\",\n      value: function onTouchstart(e) {\n        this.play();\n        this.trigger('over', e);\n        document.addEventListener('touchend', this.onTouchend);\n        document.removeEventListener('mousemove', this.onMousemove);\n\n        if (this.canvas.hasAttribute('controls')) {\n          this.canvas.removeEventListener('mouseover', this.onMouseover);\n          this.canvas.removeEventListener('mouseout', this.onMouseout);\n        }\n      }\n    }, {\n      key: \"onLoop\",\n      value: function onLoop(time) {\n        this.checkRender();\n        this.rafId = window.requestAnimationFrame(this.onLoop);\n      }\n    }, {\n      key: \"setUniform_\",\n      value: function setUniform_(key, values) {\n        var _this3 = this;\n\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        var type = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n        var uniform = uniforms_1.default.parseUniform(key, values, type);\n\n        if (Array.isArray(uniform)) {\n          if (uniforms_1.default.isArrayOfSampler2D(uniform)) {\n            uniform.forEach(function (x) {\n              return _this3.loadTexture(x.key, x.values[0], options);\n            });\n          } else {\n            uniform.forEach(function (x) {\n              return _this3.uniforms.set(x.key, x.values[0]);\n            });\n          }\n        } else if (uniform) {\n          switch (uniform.type) {\n            case uniforms_1.UniformType.Sampler2D:\n              this.loadTexture(key, values[0], options);\n              break;\n\n            default:\n              this.uniforms.set(key, uniform);\n          }\n        }\n      }\n    }, {\n      key: \"parseTextures_\",\n      value: function parseTextures_(fragmentString) {\n        var _this4 = this;\n\n        var regexp = /uniform\\s*sampler2D\\s*([\\w]*);(\\s*\\/\\/\\s*([\\w|\\:\\/\\/|\\.|\\-|\\_]*)|\\s*)/gm;\n        var matches;\n\n        while ((matches = regexp.exec(fragmentString)) !== null) {\n          var key = matches[1];\n\n          if (matches[3]) {\n            var ext = matches[3].split('.').pop().toLowerCase();\n            var url = matches[3];\n\n            if (url && textures_1.TextureExtensions.indexOf(ext) !== -1) {\n              this.textureList.push({\n                key: key,\n                url: url\n              });\n            }\n          } else if (!this.buffers.has(key)) {\n            // create empty texture\n            this.textureList.push({\n              key: key,\n              url: null\n            });\n          }\n        }\n\n        if (this.canvas.hasAttribute('data-textures')) {\n          var urls = this.canvas.getAttribute('data-textures').split(',');\n          urls.forEach(function (url, i) {\n            var key = 'u_texture' + i;\n\n            _this4.textureList.push({\n              key: key,\n              url: url\n            });\n          });\n        }\n\n        return this.textureList.length > 0;\n      }\n    }, {\n      key: \"createUniforms_\",\n      value: function createUniforms_() {\n        var _this5 = this;\n\n        var gl = this.gl;\n        var fragmentString = this.fragmentString;\n        var BW = gl.drawingBufferWidth;\n        var BH = gl.drawingBufferHeight;\n        var timer = this.timer = new GlslCanvasTimer();\n        var hasDelta = (fragmentString.match(/u_delta/g) || []).length > 1;\n        var hasTime = (fragmentString.match(/u_time/g) || []).length > 1;\n        var hasDate = (fragmentString.match(/u_date/g) || []).length > 1;\n        var hasMouse = (fragmentString.match(/u_mouse/g) || []).length > 1;\n        var hasTextures = this.parseTextures_(fragmentString);\n        this.animated = hasTime || hasDate || hasMouse;\n\n        if (this.animated) {\n          this.canvas.classList.add('animated');\n        } else {\n          this.canvas.classList.remove('animated');\n        }\n\n        this.uniforms.create(uniforms_1.UniformMethod.Uniform2f, uniforms_1.UniformType.Float, 'u_resolution', [BW, BH]);\n\n        if (hasDelta) {\n          this.uniforms.create(uniforms_1.UniformMethod.Uniform1f, uniforms_1.UniformType.Float, 'u_delta', [timer.delta / 1000.0]);\n        }\n\n        if (hasTime) {\n          this.uniforms.create(uniforms_1.UniformMethod.Uniform1f, uniforms_1.UniformType.Float, 'u_time', [timer.current / 1000.0]);\n        }\n\n        if (hasDate) {\n          var date = new Date();\n          this.uniforms.create(uniforms_1.UniformMethod.Uniform4f, uniforms_1.UniformType.Float, 'u_date', [date.getFullYear(), date.getMonth(), date.getDate(), date.getHours() * 3600 + date.getMinutes() * 60 + date.getSeconds() + date.getMilliseconds() * 0.001]);\n        }\n\n        if (hasMouse) {\n          this.uniforms.create(uniforms_1.UniformMethod.Uniform2f, uniforms_1.UniformType.Float, 'u_mouse', [0, 0]);\n        }\n\n        for (var key in this.buffers.values) {\n          var buffer = this.buffers.values[key];\n          this.uniforms.create(uniforms_1.UniformMethod.Uniform1i, uniforms_1.UniformType.Sampler2D, buffer.key, [buffer.input.index]);\n        }\n\n        if (hasTextures) {\n          this.textureList.filter(function (x) {\n            return x.url;\n          }).forEach(function (x) {\n            _this5.setTexture(x.key, x.url, x.options);\n          });\n          this.textureList = [];\n        }\n      }\n    }, {\n      key: \"updateUniforms_\",\n      value: function updateUniforms_() {\n        var gl = this.gl;\n        var BW = gl.drawingBufferWidth;\n        var BH = gl.drawingBufferHeight;\n\n        if (!this.timer) {\n          return;\n        }\n\n        var timer = this.timer.next();\n        this.uniforms.update(uniforms_1.UniformMethod.Uniform2f, uniforms_1.UniformType.Float, 'u_resolution', [BW, BH]);\n\n        if (this.uniforms.has('u_delta')) {\n          this.uniforms.update(uniforms_1.UniformMethod.Uniform1f, uniforms_1.UniformType.Float, 'u_delta', [timer.delta / 1000.0]);\n        }\n\n        if (this.uniforms.has('u_time')) {\n          this.uniforms.update(uniforms_1.UniformMethod.Uniform1f, uniforms_1.UniformType.Float, 'u_time', [timer.current / 1000.0]);\n        }\n\n        if (this.uniforms.has('u_date')) {\n          var date = new Date();\n          this.uniforms.update(uniforms_1.UniformMethod.Uniform4f, uniforms_1.UniformType.Float, 'u_date', [date.getFullYear(), date.getMonth(), date.getDate(), date.getHours() * 3600 + date.getMinutes() * 60 + date.getSeconds() + date.getMilliseconds() * 0.001]);\n        }\n\n        if (this.uniforms.has('u_mouse')) {\n          var mouse = this.mouse;\n          this.uniforms.update(uniforms_1.UniformMethod.Uniform2f, uniforms_1.UniformType.Float, 'u_mouse', [mouse.x, mouse.y]);\n          /*\n          const rect = this.rect;\n          if (mouse.x >= rect.left && mouse.x <= rect.right &&\n              mouse.y >= rect.top && mouse.y <= rect.bottom) {\n              const MX = (mouse.x - rect.left) * this.devicePixelRatio;\n              const MY = (this.canvas.height - (mouse.y - rect.top) * this.devicePixelRatio);\n              this.uniforms.update(UniformMethod.Uniform2f, UniformType.Float, 'u_mouse', [MX, MY]);\n          }\n          */\n        }\n\n        for (var key in this.buffers.values) {\n          var buffer = this.buffers.values[key];\n          this.uniforms.update(uniforms_1.UniformMethod.Uniform1i, uniforms_1.UniformType.Sampler2D, buffer.key, [buffer.input.index]);\n        }\n\n        for (var _key in this.textures.values) {\n          var texture = this.textures.values[_key];\n          texture.tryUpdate(gl);\n          this.uniforms.update(uniforms_1.UniformMethod.Uniform1i, uniforms_1.UniformType.Sampler2D, texture.key, [texture.index]);\n        }\n      }\n    }, {\n      key: \"isVisible_\",\n      value: function isVisible_() {\n        var rect = this.rect;\n        return rect.top + rect.height > 0 && rect.top < (window.innerHeight || document.documentElement.clientHeight);\n      }\n    }, {\n      key: \"isAnimated_\",\n      value: function isAnimated_() {\n        return (this.animated || this.textures.animated) && !this.timer.paused;\n      }\n    }, {\n      key: \"isDirty_\",\n      value: function isDirty_() {\n        return this.dirty || this.uniforms.dirty || this.textures.dirty;\n      } // check size change at start of requestFrame\n\n    }, {\n      key: \"sizeDidChanged_\",\n      value: function sizeDidChanged_() {\n        var gl = this.gl;\n        var W = Math.ceil(this.canvas.clientWidth),\n            H = Math.ceil(this.canvas.clientHeight);\n\n        if (this.width !== W || this.height !== H) {\n          this.width = W;\n          this.height = H; // Lookup the size the browser is displaying the canvas in CSS pixels\n          // and compute a size needed to make our drawingbuffer match it in\n          // device pixels.\n\n          var BW = Math.ceil(W * this.devicePixelRatio);\n          var BH = Math.ceil(H * this.devicePixelRatio);\n          this.canvas.width = BW;\n          this.canvas.height = BH;\n          /*\n          if (gl.canvas.width !== BW ||\n              gl.canvas.height !== BH) {\n              gl.canvas.width = BW;\n              gl.canvas.height = BH;\n              // Set the viewport to match\n              // gl.viewport(0, 0, BW, BH);\n          }\n          */\n\n          for (var key in this.buffers.values) {\n            var buffer = this.buffers.values[key];\n            buffer.resize(gl, BW, BH);\n          }\n\n          this.rect = this.canvas.getBoundingClientRect();\n          this.trigger('resize'); // gl.useProgram(this.program);\n\n          return true;\n        } else {\n          return false;\n        }\n      }\n    }, {\n      key: \"load\",\n      value: function load(fragmentString, vertexString) {\n        var _this6 = this;\n\n        return Promise.all([context_1.default.getIncludes(fragmentString || this.fragmentString), context_1.default.getIncludes(vertexString || this.vertexString)]).then(function (array) {\n          _this6.fragmentString = array[0];\n          _this6.vertexString = array[1];\n          return _this6.createContext_();\n        });\n      }\n    }, {\n      key: \"getContext_\",\n      value: function getContext_() {\n        var vertexString = this.vertexString;\n        var fragmentString = this.fragmentString;\n        this.vertexString = context_1.default.getVertex(vertexString, fragmentString);\n        this.fragmentString = context_1.default.getFragment(vertexString, fragmentString);\n\n        if (context_1.default.versionDiffers(this.gl, vertexString, fragmentString)) {\n          this.destroyContext_();\n          this.swapCanvas_();\n          this.uniforms = new uniforms_1.default();\n          this.buffers = new buffers_1.default();\n          this.textures = new textures_1.default();\n          this.textureList = [];\n        }\n\n        if (!this.gl) {\n          var gl = context_1.default.tryInferContext(vertexString, fragmentString, this.canvas, this.options, this.options.onError);\n\n          if (!gl) {\n            return;\n          }\n\n          this.gl = gl;\n        }\n\n        return this.gl;\n      }\n    }, {\n      key: \"createContext_\",\n      value: function createContext_() {\n        var gl = this.getContext_();\n\n        if (!gl) {\n          return;\n        }\n\n        var vertexShader, fragmentShader;\n\n        try {\n          vertexShader = context_1.default.createShader(gl, this.vertexString, gl.VERTEX_SHADER);\n          fragmentShader = context_1.default.createShader(gl, this.fragmentString, gl.FRAGMENT_SHADER); // If Fragment shader fails load a empty one to sign the error\n\n          if (!fragmentShader) {\n            fragmentShader = context_1.default.createShader(gl, context_1.ContextDefaultFragment, gl.FRAGMENT_SHADER);\n            this.valid = false;\n          } else {\n            this.valid = true;\n          }\n        } catch (e) {\n          // !!!\n          // console.error(e);\n          this.trigger('error', e);\n          return false;\n        } // Create and use program\n\n\n        var program = context_1.default.createProgram(gl, [vertexShader, fragmentShader]); //, [0,1],['a_texcoord','a_position']);\n\n        gl.useProgram(program); // Delete shaders\n        // gl.detachShader(program, vertexShader);\n        // gl.detachShader(program, fragmentShader);\n\n        gl.deleteShader(vertexShader);\n        gl.deleteShader(fragmentShader);\n        this.program = program;\n\n        if (this.valid) {\n          try {\n            this.buffers = buffers_1.default.getBuffers(gl, this.fragmentString, this.vertexString);\n          } catch (e) {\n            // console.error('load', e);\n            this.valid = false;\n            this.trigger('error', e);\n            return false;\n          }\n\n          this.vertexBuffers = context_1.default.createVertexBuffers(gl, program);\n          this.createUniforms_();\n        } // Trigger event\n\n\n        this.trigger('load', this);\n        return this.valid;\n      }\n    }, {\n      key: \"test\",\n      value: function test(fragmentString, vertexString) {\n        var _this7 = this;\n\n        return new Promise(function (resolve, reject) {\n          var vertex = _this7.vertexString;\n          var fragment = _this7.fragmentString;\n          var paused = _this7.timer.paused; // Thanks to @thespite for the help here\n          // https://www.khronos.org/registry/webgl/extensions/EXT_disjoint_timer_query/\n\n          var extension = _this7.gl.getExtension('EXT_disjoint_timer_query');\n\n          var query = extension.createQueryEXT();\n          var wasValid = _this7.valid;\n\n          if (fragmentString || vertexString) {\n            _this7.load(fragmentString, vertexString);\n\n            wasValid = _this7.valid;\n\n            _this7.render();\n          }\n\n          _this7.timer.paused = true;\n          extension.beginQueryEXT(extension.TIME_ELAPSED_EXT, query);\n\n          _this7.render();\n\n          extension.endQueryEXT(extension.TIME_ELAPSED_EXT);\n\n          var waitForTest = function waitForTest() {\n            _this7.render();\n\n            var available = extension.getQueryObjectEXT(query, extension.QUERY_RESULT_AVAILABLE_EXT);\n\n            var disjoint = _this7.gl.getParameter(extension.GPU_DISJOINT_EXT);\n\n            if (available && !disjoint) {\n              var result = {\n                wasValid: wasValid,\n                fragment: fragmentString || _this7.fragmentString,\n                vertex: vertexString || _this7.vertexString,\n                timeElapsedMs: extension.getQueryObjectEXT(query, extension.QUERY_RESULT_EXT) / 1000000.0\n              };\n              _this7.timer.paused = paused;\n\n              if (fragmentString || vertexString) {\n                _this7.load(fragment, vertex);\n              }\n\n              resolve(result);\n            } else {\n              window.requestAnimationFrame(waitForTest);\n            }\n          };\n\n          waitForTest();\n        });\n      }\n    }, {\n      key: \"destroyContext_\",\n      value: function destroyContext_() {\n        var gl = this.gl;\n        gl.useProgram(null);\n\n        if (this.program) {\n          gl.deleteProgram(this.program);\n        }\n\n        for (var key in this.buffers.values) {\n          var buffer = this.buffers.values[key];\n          buffer.destroy(gl);\n        }\n\n        for (var _key2 in this.textures.values) {\n          var texture = this.textures.values[_key2];\n          texture.destroy(gl);\n        }\n\n        this.buffers = null;\n        this.textures = null;\n        this.uniforms = null;\n        this.program = null;\n        this.gl = null;\n      }\n    }, {\n      key: \"swapCanvas_\",\n      value: function swapCanvas_() {\n        var canvas = this.canvas;\n        var canvas_ = canvas.cloneNode();\n        canvas.parentNode.replaceChild(canvas_, canvas);\n        this.canvas = canvas_;\n        this.addCanvasListeners_();\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.removeListeners_();\n        this.destroyContext_();\n        this.animated = false;\n        this.valid = false;\n        GlslCanvas.items.splice(GlslCanvas.items.indexOf(this), 1);\n      }\n    }, {\n      key: \"loadTexture\",\n      value: function loadTexture(key, urlElementOrData) {\n        var _this8 = this;\n\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        if (this.valid) {\n          // Logger.log('GlslCanvas.loadTexture', key, urlElementOrData);\n          this.textures.createOrUpdate(this.gl, key, urlElementOrData, this.buffers.count, options, this.options.workpath).then(function (texture) {\n            var index = texture.index;\n\n            var uniform = _this8.uniforms.createTexture(key, index);\n\n            uniform.texture = texture;\n            var keyResolution = key.indexOf('[') !== -1 ? key.replace('[', 'Resolution[') : key + 'Resolution';\n\n            var uniformResolution = _this8.uniforms.create(uniforms_1.UniformMethod.Uniform2f, uniforms_1.UniformType.Float, keyResolution, [texture.width, texture.height]); // Logger.log('loadTexture', key, url, index, texture.width, texture.height);\n\n\n            return texture;\n          }, function (error) {\n            var message = Array.isArray(error.path) ? error.path.map(function (x) {\n              return x.error ? x.error.message : '';\n            }).join(', ') : error.message;\n            logger_1.default.log('GlslCanvas.loadTexture.error', key, urlElementOrData, message);\n\n            _this8.trigger('textureError', {\n              key: key,\n              urlElementOrData: urlElementOrData,\n              message: message\n            });\n          });\n        } else {\n          this.textureList.push({\n            key: key,\n            url: urlElementOrData,\n            options: options\n          });\n        }\n      }\n    }, {\n      key: \"setTexture\",\n      value: function setTexture(key, urlElementOrData) {\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        return this.setUniform_(key, [urlElementOrData], options);\n      }\n    }, {\n      key: \"setUniform\",\n      value: function setUniform(key) {\n        for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key3 = 1; _key3 < _len; _key3++) {\n          values[_key3 - 1] = arguments[_key3];\n        }\n\n        return this.setUniform_(key, values);\n      }\n    }, {\n      key: \"setUniformOfInt\",\n      value: function setUniformOfInt(key, values) {\n        return this.setUniform_(key, values, null, uniforms_1.UniformType.Int);\n      }\n    }, {\n      key: \"setUniforms\",\n      value: function setUniforms(values) {\n        for (var key in values) {\n          this.setUniform(key, values[key]);\n        }\n      }\n    }, {\n      key: \"pause\",\n      value: function pause() {\n        if (this.valid) {\n          this.timer.pause();\n          this.canvas.classList.add('paused');\n          this.trigger('pause');\n        }\n      }\n    }, {\n      key: \"play\",\n      value: function play() {\n        if (this.valid) {\n          this.timer.play();\n          this.canvas.classList.remove('paused');\n          this.trigger('play');\n        }\n      }\n    }, {\n      key: \"toggle\",\n      value: function toggle() {\n        if (this.valid) {\n          if (this.timer.paused) {\n            this.play();\n          } else {\n            this.pause();\n          }\n        }\n      }\n    }, {\n      key: \"checkRender\",\n      value: function checkRender() {\n        if (this.isVisible_() && (this.sizeDidChanged_() || this.isAnimated_() || this.isDirty_())) {\n          this.render();\n          this.canvas.classList.add('playing');\n        } else {\n          this.canvas.classList.remove('playing');\n        }\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var gl = this.gl;\n\n        if (!gl) {\n          return;\n        }\n\n        var BW = gl.drawingBufferWidth;\n        var BH = gl.drawingBufferHeight;\n        this.updateUniforms_();\n\n        for (var key in this.buffers.values) {\n          var buffer = this.buffers.values[key];\n          this.uniforms.apply(gl, buffer.program);\n          buffer.render(gl, BW, BH);\n        }\n\n        gl.useProgram(this.program);\n        this.uniforms.apply(gl, this.program);\n        gl.viewport(0, 0, BW, BH);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n        this.uniforms.clean();\n        this.textures.clean();\n        this.dirty = false;\n        this.trigger('render', this);\n      }\n    }], [{\n      key: \"version\",\n      value: function version() {\n        return '0.1.6';\n      }\n    }, {\n      key: \"of\",\n      value: function of(canvas) {\n        return GlslCanvas.items.find(function (x) {\n          return x.canvas === canvas;\n        }) || new GlslCanvas(canvas);\n      }\n    }, {\n      key: \"loadAll\",\n      value: function loadAll() {\n        var canvases = [].slice.call(document.getElementsByClassName('glsl-canvas')).filter(function (x) {\n          return x instanceof HTMLCanvasElement;\n        });\n        return canvases.map(function (x) {\n          return GlslCanvas.of(x);\n        });\n      }\n    }]);\n\n    return GlslCanvas;\n  }(subscriber_1.default);\n\n  exports.default = GlslCanvas;\n  GlslCanvas.logger = logger_1.default;\n  GlslCanvas.items = [];\n  window.GlslCanvas = window.GlslCanvas || GlslCanvas; // (<any>(window)).GlslCanvas = GlslCanvas;\n\n  if (document) {\n    document.addEventListener(\"DOMContentLoaded\", function () {\n      GlslCanvas.loadAll();\n    });\n  }\n});\n\n},{\"./buffers\":4,\"./common\":5,\"./context\":6,\"./logger\":9,\"./subscriber\":10,\"./textures\":11,\"./uniforms\":12,\"promise-polyfill\":2}],8:[function(require,module,exports){\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n(function (factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    var v = factory(require, exports);\n    if (v !== undefined) module.exports = v;\n  } else if (typeof define === \"function\" && define.amd) {\n    define([\"require\", \"exports\"], factory);\n  }\n})(function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var NumberMap = function NumberMap() {\n    _classCallCheck(this, NumberMap);\n  };\n\n  exports.NumberMap = NumberMap;\n  ;\n\n  var StringMap = function StringMap() {\n    _classCallCheck(this, StringMap);\n  };\n\n  exports.StringMap = StringMap;\n  ;\n\n  var IterableStringMap =\n  /*#__PURE__*/\n  function () {\n    function IterableStringMap() {\n      _classCallCheck(this, IterableStringMap);\n\n      this.values = new StringMap();\n    }\n\n    _createClass(IterableStringMap, [{\n      key: \"has\",\n      value: function has(key) {\n        return this.values.hasOwnProperty(key);\n      }\n    }, {\n      key: \"set\",\n      value: function set(key, item) {\n        this.values[key] = item;\n      }\n    }, {\n      key: \"get\",\n      value: function get(key) {\n        return this.values[key];\n      }\n    }, {\n      key: \"forEach\",\n      value: function forEach(callbackfn) {\n        var i = 0;\n\n        for (var key in this.values) {\n          callbackfn(this.values[key], i, this.values);\n          i++;\n        }\n      }\n    }, {\n      key: \"reduce\",\n      value: function reduce(callbackfn, initialValue) {\n        var previous = initialValue,\n            i = 0;\n\n        for (var key in this.values) {\n          previous = callbackfn(previous, this.values[key], i, this.values);\n          i++;\n        }\n\n        return previous;\n      }\n    }]);\n\n    return IterableStringMap;\n  }();\n\n  exports.default = IterableStringMap;\n});\n\n},{}],9:[function(require,module,exports){\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n(function (factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    var v = factory(require, exports);\n    if (v !== undefined) module.exports = v;\n  } else if (typeof define === \"function\" && define.amd) {\n    define([\"require\", \"exports\"], factory);\n  }\n})(function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var Logger =\n  /*#__PURE__*/\n  function () {\n    function Logger() {\n      _classCallCheck(this, Logger);\n    }\n\n    _createClass(Logger, null, [{\n      key: \"log\",\n      value: function log() {\n        if (Logger.enabled) {\n          var _console;\n\n          (_console = console).log.apply(_console, arguments);\n        }\n      }\n    }, {\n      key: \"warn\",\n      value: function warn() {\n        if (Logger.enabled) {\n          var _console2;\n\n          (_console2 = console).warn.apply(_console2, arguments);\n        }\n      }\n    }, {\n      key: \"error\",\n      value: function error() {\n        if (Logger.enabled) {\n          var _console3;\n\n          (_console3 = console).error.apply(_console3, arguments);\n        }\n      }\n    }]);\n\n    return Logger;\n  }();\n\n  exports.default = Logger;\n  Logger.enabled = false;\n});\n\n},{}],10:[function(require,module,exports){\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\n(function (factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    var v = factory(require, exports);\n    if (v !== undefined) module.exports = v;\n  } else if (typeof define === \"function\" && define.amd) {\n    define([\"require\", \"exports\", \"./logger\"], factory);\n  }\n})(function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var logger_1 = __importDefault(require(\"./logger\"));\n\n  var Listener = function Listener(event, callback) {\n    _classCallCheck(this, Listener);\n\n    this.event = event;\n    this.callback = callback;\n  };\n\n  exports.Listener = Listener;\n\n  var Subscriber =\n  /*#__PURE__*/\n  function () {\n    function Subscriber() {\n      _classCallCheck(this, Subscriber);\n\n      this.listeners = new Set();\n    }\n\n    _createClass(Subscriber, [{\n      key: \"logListeners\",\n      value: function logListeners() {\n        this.listeners.forEach(function (x) {\n          return logger_1.default.log(x);\n        });\n      }\n    }, {\n      key: \"subscribe\",\n      value: function subscribe(listener) {\n        this.listeners.add(listener);\n      }\n    }, {\n      key: \"unsubscribe\",\n      value: function unsubscribe(listener) {\n        this.listeners.delete(listener);\n      }\n    }, {\n      key: \"unsubscribeAll\",\n      value: function unsubscribeAll() {\n        this.listeners.clear();\n      }\n    }, {\n      key: \"on\",\n      value: function on(event, callback) {\n        this.listeners.add(new Listener(event, callback));\n        return this;\n      }\n    }, {\n      key: \"off\",\n      value: function off(event, callback) {\n        var _this = this;\n\n        if (callback) {\n          this.listeners.delete(new Listener(event, callback));\n        } else {\n          this.listeners.forEach(function (x) {\n            if (x.event === event) {\n              _this.listeners.delete(x);\n            }\n          });\n        }\n\n        return this;\n      }\n    }, {\n      key: \"trigger\",\n      value: function trigger(event) {\n        for (var _len = arguments.length, data = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          data[_key - 1] = arguments[_key];\n        }\n\n        this.listeners.forEach(function (x) {\n          if (x.event === event && typeof x.callback === 'function') {\n            x.callback.apply(x, data);\n          }\n        });\n        return this;\n      }\n    }]);\n\n    return Subscriber;\n  }();\n\n  exports.default = Subscriber;\n});\n\n},{\"./logger\":9}],11:[function(require,module,exports){\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\n(function (factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    var v = factory(require, exports);\n    if (v !== undefined) module.exports = v;\n  } else if (typeof define === \"function\" && define.amd) {\n    define([\"require\", \"exports\", \"./iterable\", \"./logger\", \"./subscriber\"], factory);\n  }\n})(function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  }); // import 'promise-polyfill';\n\n  var iterable_1 = __importDefault(require(\"./iterable\"));\n\n  var logger_1 = __importDefault(require(\"./logger\"));\n\n  var subscriber_1 = __importDefault(require(\"./subscriber\"));\n\n  exports.TextureImageExtensions = ['jpg', 'jpeg', 'png'];\n  exports.TextureVideoExtensions = ['ogv', 'webm', 'mp4'];\n  exports.TextureExtensions = exports.TextureImageExtensions.concat(exports.TextureVideoExtensions);\n  var TextureSourceType;\n\n  (function (TextureSourceType) {\n    TextureSourceType[TextureSourceType[\"Data\"] = 0] = \"Data\";\n    TextureSourceType[TextureSourceType[\"Element\"] = 1] = \"Element\";\n    TextureSourceType[TextureSourceType[\"Url\"] = 2] = \"Url\";\n  })(TextureSourceType || (TextureSourceType = {}));\n\n  var TextureFilteringType;\n\n  (function (TextureFilteringType) {\n    TextureFilteringType[\"MipMap\"] = \"mipmap\";\n    TextureFilteringType[\"Linear\"] = \"linear\";\n    TextureFilteringType[\"Nearest\"] = \"nearest\";\n  })(TextureFilteringType || (TextureFilteringType = {}));\n\n  var TextureInput = function TextureInput() {\n    _classCallCheck(this, TextureInput);\n  };\n\n  exports.TextureInput = TextureInput;\n\n  var TextureData = function TextureData() {\n    _classCallCheck(this, TextureData);\n  };\n\n  exports.TextureData = TextureData;\n\n  var TextureOptions = function TextureOptions() {\n    _classCallCheck(this, TextureOptions);\n  };\n\n  exports.TextureOptions = TextureOptions; // GL texture wrapper object for keeping track of a global set of textures, keyed by a unique user-defined name\n\n  var Texture =\n  /*#__PURE__*/\n  function (_subscriber_1$default) {\n    _inherits(Texture, _subscriber_1$default);\n\n    function Texture(gl, key, index) {\n      var _this;\n\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : new TextureOptions();\n      var workpath = arguments.length > 4 ? arguments[4] : undefined;\n\n      _classCallCheck(this, Texture);\n\n      _this = _possibleConstructorReturn(this, _getPrototypeOf(Texture).call(this));\n      _this.valid = false;\n      _this.dirty = false;\n      _this.animated = false;\n      _this.powerOf2 = false;\n      _this.key = key;\n      _this.index = index;\n      _this.options = options;\n      _this.workpath = workpath;\n\n      _this.create(gl);\n\n      return _this;\n    }\n\n    _createClass(Texture, [{\n      key: \"create\",\n      value: function create(gl) {\n        this.texture = gl.createTexture();\n\n        if (this.texture) {\n          this.valid = true;\n        } // Default to a 1-pixel black texture so we can safely render while we wait for an image to load\n        // See: http://stackoverflow.com/questions/19722247/webgl-wait-for-texture-to-load\n        // [255, 255, 255, 255]\n\n\n        this.setData(gl, 1, 1, new Uint8Array([0, 0, 0, 0]), {\n          filtering: TextureFilteringType.Linear\n        }); // this.bindTexture();\n        // this.load(options);\n      }\n    }, {\n      key: \"load\",\n      value: function load(gl) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        this.options = options;\n\n        if (typeof options.url === 'string') {\n          if (this.url === undefined || options.url !== this.url) {\n            return this.setUrl(gl, options.url, options);\n          } else {\n            return Promise.resolve(this);\n          }\n        } else if (options.element) {\n          return this.setElement(gl, options.element, options);\n        } else if (options.data && options.width && options.height) {\n          return this.setData(gl, options.width, options.height, options.data, options);\n        }\n      }\n    }, {\n      key: \"setUrl\",\n      value: function setUrl(gl, url) {\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        if (!this.valid) {\n          return;\n        }\n\n        this.url = url; // save URL reference (will be overwritten when element is loaded below)\n\n        this.source = url;\n        this.sourceType = TextureSourceType.Url;\n        this.options = Object.assign(this.options, options);\n        var src = String(url.indexOf(':/') === -1 && this.workpath !== undefined ? \"\".concat(this.workpath, \"/\").concat(url) : url);\n        var ext = url.split('.').pop().toLowerCase();\n        var isVideo = exports.TextureVideoExtensions.indexOf(ext) !== -1;\n        var element;\n        var promise;\n\n        if (isVideo) {\n          logger_1.default.log('GlslCanvas.setUrl video', src);\n          element = document.createElement('video'); // new HTMLVideoElement();\n\n          element.setAttribute('preload', 'auto'); // element.setAttribute('autoplay', 'true');\n\n          element.setAttribute('loop', 'true');\n          element.setAttribute('muted', 'true');\n          element.setAttribute('playsinline', 'true'); // element.autoplay = true;\n\n          element.loop = true;\n          element.muted = true;\n          /*\n          if (!(Texture.isSafari() && /(?<!http|https):\\//.test(url))) {\n              element.crossOrigin = 'anonymous';\n          }\n          */\n\n          promise = this.setElement(gl, element, options);\n          element.src = src;\n          element.addEventListener('canplay', function () {\n            element.play();\n          });\n        } else {\n          logger_1.default.log('GlslCanvas.setUrl image', src);\n          element = document.createElement('img'); // new HTMLImageElement();\n\n          promise = this.setElement(gl, element, options);\n\n          if (!(Texture.isSafari() && url.slice(0, 5) === 'data:')) {\n            element.crossOrigin = 'anonymous';\n          }\n\n          element.src = src;\n        }\n\n        return promise;\n      }\n    }, {\n      key: \"setElement\",\n      value: function setElement(gl, element) {\n        var _this2 = this;\n\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        this.options = Object.assign(this.options, options);\n        return new Promise(function (resolve, reject) {\n          var originalElement = element; // a string element is interpeted as a CSS selector\n\n          if (typeof element === 'string') {\n            element = document.querySelector(element);\n          }\n\n          if (element instanceof HTMLCanvasElement || element instanceof HTMLImageElement || element instanceof HTMLVideoElement) {\n            _this2.source = element;\n            _this2.sourceType = TextureSourceType.Element;\n\n            if (element instanceof HTMLVideoElement) {\n              var video = element;\n              video.addEventListener('loadeddata', function (event) {\n                _this2.update(gl, options);\n\n                _this2.setFiltering(gl, options);\n\n                resolve(_this2);\n              });\n              video.addEventListener('error', function (error) {\n                reject(error);\n              });\n              video.load();\n            } else if (element instanceof HTMLImageElement) {\n              element.addEventListener('load', function () {\n                _this2.update(gl, options);\n\n                _this2.setFiltering(gl, options);\n\n                resolve(_this2);\n              });\n              element.addEventListener('error', function (error) {\n                reject(error);\n              });\n            } else {\n              _this2.update(gl, options);\n\n              _this2.setFiltering(gl, options);\n\n              resolve(_this2);\n            }\n          } else {\n            var message = \"the 'element' parameter (`element: \".concat(JSON.stringify(originalElement), \"`) must be a CSS selector string, or a <canvas>, <image> or <video> object\");\n            logger_1.default.log(\"Texture '\".concat(_this2.key, \"': \").concat(message), options);\n            reject(message);\n          }\n        });\n      }\n    }, {\n      key: \"setData\",\n      value: function setData(gl, width, height, data) {\n        var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n        this.width = width;\n        this.height = height;\n        this.options = Object.assign(this.options, options);\n        this.source = data;\n        this.sourceType = TextureSourceType.Data;\n        this.update(gl, options);\n        this.setFiltering(gl, options);\n        return Promise.resolve(this);\n      } // Uploads current image or buffer to the GPU (can be used to update animated textures on the fly)\n\n    }, {\n      key: \"update\",\n      value: function update(gl, options) {\n        if (!this.valid) {\n          return;\n        }\n\n        gl.activeTexture(gl.TEXTURE0 + this.index);\n        gl.bindTexture(gl.TEXTURE_2D, this.texture);\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, options.UNPACK_FLIP_Y_WEBGL === false ? 0 : 1);\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, options.UNPACK_PREMULTIPLY_ALPHA_WEBGL || 0);\n\n        if (this.sourceType === TextureSourceType.Element) {\n          if (this.source instanceof HTMLImageElement && this.source.naturalWidth && this.source.naturalHeight) {\n            this.width = this.source.naturalWidth;\n            this.height = this.source.naturalHeight;\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.source);\n          } else if (this.source instanceof HTMLVideoElement && this.source.videoWidth && this.source.videoHeight) {\n            this.width = this.source.videoWidth;\n            this.height = this.source.videoHeight;\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.source);\n          } else if (this.source instanceof HTMLCanvasElement) {\n            this.width = this.source.width;\n            this.height = this.source.height;\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.source);\n          }\n        } else if (this.sourceType === TextureSourceType.Data) {\n          var imageBuffer = this.source;\n          gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.width, this.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, imageBuffer);\n        }\n\n        this.trigger('loaded', this);\n      }\n    }, {\n      key: \"tryUpdate\",\n      value: function tryUpdate(gl) {\n        var dirty = false;\n\n        if (this.animated) {\n          dirty = true;\n          this.update(gl, this.options);\n        }\n\n        return dirty;\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy(gl) {\n        if (!this.valid) {\n          return;\n        }\n\n        gl.deleteTexture(this.texture);\n        this.texture = null;\n        delete this.source;\n        this.source = null;\n        this.valid = false;\n      }\n    }, {\n      key: \"setFiltering\",\n      value: function setFiltering(gl, options) {\n        if (!this.valid) {\n          return;\n        }\n\n        var powerOf2 = Texture.isPowerOf2(this.width) && Texture.isPowerOf2(this.height);\n        var filtering = options.filtering || TextureFilteringType.MipMap;\n        var wrapS = options.TEXTURE_WRAP_S || (options.repeat ? gl.REPEAT : gl.CLAMP_TO_EDGE);\n        var wrapT = options.TEXTURE_WRAP_T || (options.repeat ? gl.REPEAT : gl.CLAMP_TO_EDGE);\n\n        if (!powerOf2) {\n          filtering = filtering === TextureFilteringType.MipMap ? TextureFilteringType.Linear : filtering;\n          wrapS = wrapT = gl.CLAMP_TO_EDGE;\n\n          if (options.repeat || options.TEXTURE_WRAP_S || options.TEXTURE_WRAP_T) {\n            logger_1.default.warn(\"GlslCanvas: cannot repeat texture \".concat(options.url, \" cause is not power of 2.\"));\n          }\n        }\n\n        this.powerOf2 = powerOf2;\n        this.filtering = filtering; // this.bindTexture();\n        // WebGL has strict requirements on non-power-of-2 textures:\n        // No mipmaps and must clamp to edge\n        // For power-of-2 textures, the following presets are available:\n        // mipmap: linear blend from nearest mip\n        // linear: linear blend from original image (no mips)\n        // nearest: nearest pixel from original image (no mips, 'blocky' look)\n\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrapS);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrapT);\n\n        if (this.filtering === TextureFilteringType.MipMap) {\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR); // TODO: use trilinear filtering by defualt instead?\n\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n          gl.generateMipmap(gl.TEXTURE_2D);\n        } else if (this.filtering === TextureFilteringType.Nearest) {\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n        } else if (this.filtering === TextureFilteringType.Linear) {\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n        }\n      }\n    }], [{\n      key: \"isPowerOf2\",\n      value: function isPowerOf2(value) {\n        return (value & value - 1) === 0;\n      }\n    }, {\n      key: \"isSafari\",\n      value: function isSafari() {\n        return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n      }\n    }, {\n      key: \"isTextureUrl\",\n      value: function isTextureUrl(text) {\n        return /\\.(jpg|jpeg|png|ogv|webm|mp4)$/i.test(text);\n      }\n    }, {\n      key: \"isTexture\",\n      value: function isTexture(urlElementOrData) {\n        var options = Texture.getTextureOptions(urlElementOrData);\n        return options !== undefined;\n      }\n    }, {\n      key: \"getMaxTextureSize\",\n      value: function getMaxTextureSize(gl) {\n        return gl.getParameter(gl.MAX_TEXTURE_SIZE);\n      }\n    }, {\n      key: \"getTextureOptions\",\n      value: function getTextureOptions(urlElementOrData) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        if (typeof urlElementOrData === 'string' && urlElementOrData !== '') {\n          if (Texture.isTextureUrl(urlElementOrData)) {\n            options.url = urlElementOrData;\n            return options;\n          }\n\n          if (document) {\n            urlElementOrData = document.querySelector(urlElementOrData); // Logger.log(urlElementOrData);\n          }\n        }\n\n        if (urlElementOrData instanceof HTMLCanvasElement || urlElementOrData instanceof HTMLImageElement || urlElementOrData instanceof HTMLVideoElement) {\n          options.element = urlElementOrData;\n          return options;\n        } else if (urlElementOrData instanceof TextureData) {\n          options.data = urlElementOrData.data;\n          options.width = urlElementOrData.width;\n          options.height = urlElementOrData.height;\n          return options;\n        }\n      }\n    }]);\n\n    return Texture;\n  }(subscriber_1.default);\n\n  exports.Texture = Texture;\n\n  var Textures =\n  /*#__PURE__*/\n  function (_iterable_1$default) {\n    _inherits(Textures, _iterable_1$default);\n\n    function Textures() {\n      var _this3;\n\n      _classCallCheck(this, Textures);\n\n      _this3 = _possibleConstructorReturn(this, _getPrototypeOf(Textures).apply(this, arguments));\n      _this3.count = 0;\n      _this3.dirty = false;\n      _this3.animated = false;\n      return _this3;\n    }\n\n    _createClass(Textures, [{\n      key: \"clean\",\n      value: function clean() {\n        for (var key in this.values) {\n          this.values[key].dirty = false;\n        }\n\n        this.dirty = false;\n      }\n    }, {\n      key: \"createOrUpdate\",\n      value: function createOrUpdate(gl, key, urlElementOrData) {\n        var _this4 = this;\n\n        var index = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n        var workpath = arguments.length > 5 ? arguments[5] : undefined;\n        var texture;\n        var textureOptions = Texture.getTextureOptions(urlElementOrData, options);\n        texture = this.get(key);\n\n        if (!texture) {\n          texture = new Texture(gl, key, index + this.count, textureOptions, workpath);\n          this.count++;\n          this.set(key, texture);\n        }\n\n        if (textureOptions !== undefined) {\n          return texture.load(gl, textureOptions).then(function (texture) {\n            if (texture.source instanceof HTMLVideoElement) {\n              var video = texture.source; // Logger.log('video', video);\n\n              video.addEventListener('play', function () {\n                // Logger.log('play', texture.key);\n                texture.animated = true;\n                _this4.animated = true;\n              });\n              video.addEventListener('pause', function () {\n                // Logger.log('pause', texture.key);\n                texture.animated = false;\n                _this4.animated = _this4.reduce(function (flag, texture) {\n                  return flag || texture.animated;\n                }, false);\n              });\n              video.addEventListener('seeked', function () {\n                // Logger.log('seeked');\n                texture.update(gl, texture.options);\n                _this4.dirty = true;\n              }); // Logger.log('video');\n\n              /*\n              video.addEventListener('canplaythrough', () => {\n                  // !!!\n                  this.intervalID = setInterval(() => {\n                      this.update(gl, options);\n                  }, 15);\n              }, true);\n              video.addEventListener('ended', () => {\n                  video.currentTime = 0;\n                  video.play();\n              }, true);\n              */\n            }\n\n            return texture;\n          });\n        } else {\n          return Promise.resolve(texture);\n        }\n      }\n    }]);\n\n    return Textures;\n  }(iterable_1.default);\n\n  exports.default = Textures;\n});\n\n},{\"./iterable\":8,\"./logger\":9,\"./subscriber\":10}],12:[function(require,module,exports){\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\n(function (factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    var v = factory(require, exports);\n    if (v !== undefined) module.exports = v;\n  } else if (typeof define === \"function\" && define.amd) {\n    define([\"require\", \"exports\", \"./iterable\", \"./logger\", \"./textures\"], factory);\n  }\n})(function (require, exports) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var iterable_1 = __importDefault(require(\"./iterable\"));\n\n  var logger_1 = __importDefault(require(\"./logger\"));\n\n  var textures_1 = require(\"./textures\");\n\n  var UniformMethod;\n\n  (function (UniformMethod) {\n    UniformMethod[UniformMethod[\"Unknown\"] = 0] = \"Unknown\";\n    UniformMethod[\"Uniform1i\"] = \"uniform1i\"; // Uniform1i  = 'uniform1i', // (boolUniformLoc,   v);                // for bool\n    // Uniform1i  = 'uniform1i', // (sampler2DUniformLoc,   v);           // for sampler2D\n    // Uniform1i  = 'uniform1i', // (samplerCubeUniformLoc,   v);         // for samplerCube\n\n    UniformMethod[\"Uniform2i\"] = \"uniform2i\";\n    UniformMethod[\"Uniform3i\"] = \"uniform3i\";\n    UniformMethod[\"Uniform4i\"] = \"uniform4i\";\n    UniformMethod[\"Uniform1f\"] = \"uniform1f\";\n    UniformMethod[\"Uniform2f\"] = \"uniform2f\";\n    UniformMethod[\"Uniform3f\"] = \"uniform3f\";\n    UniformMethod[\"Uniform4f\"] = \"uniform4f\"; //\n\n    UniformMethod[\"Uniform1iv\"] = \"uniform1iv\"; // Uniform1iv = 'uniform1iv', // (boolUniformLoc, [v]);                // for bool or bool array\n    // Uniform1iv = 'uniform1iv', // (sampler2DUniformLoc, [v]);           // for sampler2D or sampler2D array\n    // Uniform1iv = 'uniform1iv', // (samplerCubeUniformLoc, [v]);         // for samplerCube or samplerCube array\n\n    UniformMethod[\"Uniform2iv\"] = \"uniform2iv\";\n    UniformMethod[\"Uniform3iv\"] = \"uniform3iv\";\n    UniformMethod[\"Uniform4iv\"] = \"uniform4iv\"; //\n\n    UniformMethod[\"Uniform1fv\"] = \"uniform1fv\";\n    UniformMethod[\"Uniform2fv\"] = \"uniform2fv\";\n    UniformMethod[\"Uniform3fv\"] = \"uniform3fv\";\n    UniformMethod[\"Uniform4fv\"] = \"uniform4fv\"; //\n\n    UniformMethod[\"UniformMatrix2fv\"] = \"uniformMatrix2fv\";\n    UniformMethod[\"UniformMatrix3fv\"] = \"uniformMatrix3fv\";\n    UniformMethod[\"UniformMatrix4fv\"] = \"uniformMatrix4fv\";\n  })(UniformMethod = exports.UniformMethod || (exports.UniformMethod = {}));\n\n  var UniformType;\n\n  (function (UniformType) {\n    UniformType[UniformType[\"Unknown\"] = 0] = \"Unknown\";\n    UniformType[UniformType[\"Float\"] = 1] = \"Float\";\n    UniformType[UniformType[\"Int\"] = 2] = \"Int\";\n    UniformType[UniformType[\"Bool\"] = 3] = \"Bool\";\n    UniformType[UniformType[\"Sampler2D\"] = 4] = \"Sampler2D\";\n    UniformType[UniformType[\"SamplerCube\"] = 5] = \"SamplerCube\";\n    UniformType[UniformType[\"Matrix2fv\"] = 6] = \"Matrix2fv\";\n    UniformType[UniformType[\"Matrix3fv\"] = 7] = \"Matrix3fv\";\n    UniformType[UniformType[\"Matrix4fv\"] = 8] = \"Matrix4fv\";\n  })(UniformType = exports.UniformType || (exports.UniformType = {}));\n\n  var METHODS_INT = [UniformMethod.Uniform1i, UniformMethod.Uniform2i, UniformMethod.Uniform3i, UniformMethod.Uniform4i];\n  var METHODS_FLOAT = [UniformMethod.Uniform1f, UniformMethod.Uniform2f, UniformMethod.Uniform3f, UniformMethod.Uniform4f];\n  var METHODS_INTV = [UniformMethod.Uniform1iv, UniformMethod.Uniform2iv, UniformMethod.Uniform3iv, UniformMethod.Uniform4iv];\n  var METHODS_FLOATV = [UniformMethod.Uniform1fv, UniformMethod.Uniform2fv, UniformMethod.Uniform3fv, UniformMethod.Uniform4fv];\n\n  var Uniform = function Uniform(options) {\n    var _this = this;\n\n    _classCallCheck(this, Uniform);\n\n    this.dirty = true;\n\n    if (options) {\n      Object.assign(this, options);\n    }\n\n    this.apply = function (gl, program) {\n      if (_this.dirty) {\n        gl.useProgram(program);\n        var location = gl.getUniformLocation(program, _this.key); // Logger.log(this.key, this.method, this.values);\n        // (gl as any)[this.method].apply(gl, [location].concat(this.values));\n\n        gl[_this.method].apply(gl, [location].concat(_this.values));\n      }\n    };\n  };\n\n  exports.Uniform = Uniform;\n\n  var UniformTexture =\n  /*#__PURE__*/\n  function (_Uniform) {\n    _inherits(UniformTexture, _Uniform);\n\n    function UniformTexture(options) {\n      _classCallCheck(this, UniformTexture);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(UniformTexture).call(this, options));\n    }\n\n    return UniformTexture;\n  }(Uniform);\n\n  exports.UniformTexture = UniformTexture;\n\n  var Uniforms =\n  /*#__PURE__*/\n  function (_iterable_1$default) {\n    _inherits(Uniforms, _iterable_1$default);\n\n    function Uniforms() {\n      var _this2;\n\n      _classCallCheck(this, Uniforms);\n\n      _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Uniforms).apply(this, arguments));\n      _this2.dirty = false;\n      return _this2;\n    }\n    /*\n    // slow\n    static isDifferent(a: any, b: any): boolean {\n        return JSON.stringify(a) !== JSON.stringify(b);\n    }\n    */\n\n\n    _createClass(Uniforms, [{\n      key: \"create\",\n      value: function create(method, type, key, values) {\n        var uniform = new Uniform({\n          method: method,\n          type: type,\n          key: key,\n          values: values\n        });\n        this.set(key, uniform);\n        this.dirty = true;\n        return uniform;\n      }\n    }, {\n      key: \"createTexture\",\n      value: function createTexture(key, index) {\n        var uniform;\n\n        if (key.indexOf(']') !== -1) {\n          uniform = new UniformTexture({\n            method: UniformMethod.Uniform1iv,\n            type: UniformType.Sampler2D,\n            key: key,\n            values: [[index]]\n          });\n        } else {\n          uniform = new UniformTexture({\n            method: UniformMethod.Uniform1i,\n            type: UniformType.Sampler2D,\n            key: key,\n            values: [index]\n          });\n        }\n\n        this.set(key, uniform);\n        this.dirty = true;\n        return uniform;\n      }\n    }, {\n      key: \"update\",\n      value: function update(method, type, key, values) {\n        var uniform = this.get(key);\n\n        if (uniform && (uniform.method !== method || uniform.type !== type || Uniforms.isDifferent(uniform.values, values))) {\n          uniform.method = method;\n          uniform.type = type;\n          uniform.values = values;\n          uniform.dirty = true;\n          this.dirty = true;\n        }\n      }\n    }, {\n      key: \"createOrUpdate\",\n      value: function createOrUpdate(method, type, key, values) {\n        if (this.has(key)) {\n          this.update(method, type, key, values);\n        } else {\n          this.create(method, type, key, values);\n        }\n      }\n    }, {\n      key: \"apply\",\n      value: function apply(gl, program) {\n        for (var key in this.values) {\n          // if (typeof this.values[key].apply === 'function') {\n          this.values[key].apply(gl, program); // }\n        } // this.forEach(uniform => uniform.apply(gl, program));\n\n      }\n    }, {\n      key: \"clean\",\n      value: function clean() {\n        for (var key in this.values) {\n          this.values[key].dirty = false;\n        }\n\n        this.dirty = false;\n      }\n    }], [{\n      key: \"isDifferent\",\n      value: function isDifferent(a, b) {\n        return a.length !== b.length || a.reduce(function (f, v, i) {\n          return f || v !== b[i];\n        }, false);\n      }\n    }, {\n      key: \"isArrayOfInteger\",\n      value: function isArrayOfInteger(array) {\n        return array.reduce(function (flag, value) {\n          return flag && Number.isInteger(value);\n        }, true);\n      }\n    }, {\n      key: \"isArrayOfNumber\",\n      value: function isArrayOfNumber(array) {\n        return array.reduce(function (flag, value) {\n          return flag && typeof value === 'number';\n        }, true);\n      }\n    }, {\n      key: \"isArrayOfBoolean\",\n      value: function isArrayOfBoolean(array) {\n        return array.reduce(function (flag, value) {\n          return flag && typeof value === 'boolean';\n        }, true);\n      }\n    }, {\n      key: \"isArrayOfTexture\",\n      value: function isArrayOfTexture(array) {\n        return array.reduce(function (flag, value) {\n          return flag && textures_1.Texture.isTexture(value);\n        }, true);\n      }\n    }, {\n      key: \"isArrayOfSampler2D\",\n      value: function isArrayOfSampler2D(array) {\n        return array.reduce(function (flag, value) {\n          return flag && value.type === UniformType.Sampler2D;\n        }, true);\n      }\n    }, {\n      key: \"getType_\",\n      value: function getType_(values) {\n        var type = UniformType.Unknown;\n        var isVector = values.length === 1 && Array.isArray(values[0]);\n        var subject = isVector ? values[0] : values;\n\n        if (Uniforms.isArrayOfNumber(subject)) {\n          type = UniformType.Float;\n        } else if (Uniforms.isArrayOfBoolean(subject)) {\n          type = UniformType.Bool;\n        } else if (Uniforms.isArrayOfTexture(subject)) {\n          type = UniformType.Sampler2D;\n        }\n\n        return type;\n      }\n    }, {\n      key: \"getMethod_\",\n      value: function getMethod_(type, values) {\n        var method = UniformMethod.Unknown;\n        var isVector = values.length === 1 && Array.isArray(values[0]);\n        var subject = isVector ? values[0] : values;\n        var length = subject.length;\n        var i = length - 1;\n\n        switch (type) {\n          case UniformType.Float:\n            if (isVector) {\n              method = i < METHODS_FLOATV.length ? METHODS_FLOATV[i] : UniformMethod.Unknown;\n            } else {\n              method = i < METHODS_FLOAT.length ? METHODS_FLOAT[i] : UniformMethod.Uniform1fv;\n            }\n\n            break;\n\n          case UniformType.Int:\n          case UniformType.Bool:\n            if (isVector) {\n              method = i < METHODS_INTV.length ? METHODS_INTV[i] : UniformMethod.Unknown;\n            } else {\n              method = i < METHODS_INT.length ? METHODS_INT[i] : UniformMethod.Uniform1iv;\n            }\n\n            break;\n\n          case UniformType.Sampler2D:\n            if (isVector) {\n              method = UniformMethod.Uniform1iv;\n            } else {\n              method = length === 1 ? UniformMethod.Uniform1i : UniformMethod.Uniform1iv;\n            }\n\n            break;\n        }\n\n        return method;\n      }\n    }, {\n      key: \"parseUniform\",\n      value: function parseUniform(key, values) {\n        var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        var uniform;\n        type = type || Uniforms.getType_(values);\n        var method = Uniforms.getMethod_(type, values);\n\n        if (type !== UniformType.Unknown && method !== UniformMethod.Unknown) {\n          // Logger.log('Uniforms.parseUniform', key, UniformType[type], method, values);\n          if (type === UniformType.Sampler2D && method === UniformMethod.Uniform1iv) {\n            return values[0].map(function (texture, index) {\n              return new Uniform({\n                method: method,\n                type: type,\n                key: \"\".concat(key, \"[\").concat(index, \"]\"),\n                values: [texture]\n              });\n            });\n          } else {\n            uniform = new Uniform({\n              method: method,\n              type: type,\n              key: key,\n              values: values\n            });\n          }\n        } else {\n          logger_1.default.error('Uniforms.parseUniform.Unknown', key, values);\n        } // return this.parseUniform__bak(key, values);\n\n\n        return uniform;\n      }\n    }]);\n\n    return Uniforms;\n  }(iterable_1.default);\n\n  exports.default = Uniforms;\n});\n\n},{\"./iterable\":8,\"./logger\":9,\"./textures\":11}]},{},[7]);\n","import \"glsl-canvas-js\";\n\nexport function render(shader) {\n  if (window.previousRendering) {\n    window.previousRendering.destroy();\n  }\n\n  const main = document.createElement(\"main\");\n  document.body.appendChild(main);\n\n  main.innerHTML = `\n    <div id=\"scene\">\n      <canvas></canvas>\n    </div>\n  `;\n\n  const canvas = main.querySelector(\"canvas\");\n  const glsl = new window.GlslCanvas(canvas, {\n    extensions: [\"OES_standard_derivatives\", \"EXT_shader_texture_lod\"],\n    antialias: false\n  });\n  let played = false;\n\n  glsl.on(\"error\", (e) => {\n    const error = String(e.error);\n    console.error(error);\n  });\n\n  glsl.load(shader);\n  glsl.loadTexture(\"u_input\", \"dcl.png\", {\n    filtering: \"nearest\",\n    repeat: false\n  });\n  if (!played) {\n    glsl.play();\n  }\n\n  window.asd = glsl;\n\n  window.previousRendering = {\n    destroy() {\n      glsl.destroy();\n      main.remove();\n    }\n  };\n}\n","export const fragmentShader = `\n#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_input;\nuniform vec2 u_resolution;\nuniform vec2 u_mouse;\nuniform float u_time;\nconst float tileSizeInPizels = 10.0;\nconst vec2 sizeOfTheTexture = vec2(512.0);\n\n// pixel-perfect UV based on an arbitrary presicion UV + texture size\nvec2 clampToTexture(vec2 uv, vec2 size) {\n  vec2 clampUv = ceil(uv * size) / size;\n\tvec2 pixel = vec2(1.0) / size;\n\treturn clampUv - pixel * vec2(0.5);\n}\n\n// this function detects a change in the pixel-perfect UV mapping of the texture\n// using a screen pixel as delta\nvec2 detectEdges(vec2 positionInScreen, vec2 size, float zoom) {\n  vec2 delta = vec2(1.0, -1.0) / zoom / u_resolution; // top-left delta\n\n  // fix aspect ratio\n  if (u_resolution.x > u_resolution.y) {\n    delta.x *= u_resolution.x/u_resolution.y;\n  } else {\n    delta.y *= u_resolution.y/u_resolution.x;\n  }\n\n  vec2 uv = clampToTexture(positionInScreen - delta, size);\n  vec2 newUv = clampToTexture(positionInScreen, size);\n\n  return (newUv - uv);\n}\n\n// this function returns a color for the tiles based on a texture color\nvec4 colorFromType(float type) {\n  if (type < 33.0)\n    return vec4(0.4, 0.0, 0.8, 1.0);\n\n  if (type < 65.0)\n    return vec4(0.5, 0.5, 0.5, 1.0);\n\n  return vec4(0.2, 0.2, 0.2, 1.0);\n}\n\n// given a pixel in screen, texture size and information of the tile, render the tile or the lines\nfloat detectEdgesFloat(vec2 positionInScreen, vec2 size, float zoom, float info) {\n  vec2 t = detectEdges(positionInScreen, size, zoom);\n\n  bool hasTopBorder = false;\n  bool hasLeftBorder = false;\n  bool hasTopLeftPoint = false;\n\n  bool inTopBorder = t.y != 0.0;\n  bool inLeftBorder = t.x != 0.0;\n\n  // read bit flags\n  if (info >= 32.0) { hasTopLeftPoint = true; info -= 32.0; }\n  if (info >= 16.0) { hasLeftBorder = true; info -= 16.0; }\n  if (info >= 8.0) { hasTopBorder = true; info -= 8.0; }\n\n  if (!hasTopBorder && !hasLeftBorder) {\n    // disconnected everywhere: it's a square\n    if (inLeftBorder || inTopBorder)\n      return 0.0;\n    return 1.0;\n  }\n  else\n  if (hasTopBorder && hasLeftBorder && hasTopLeftPoint) {\n    // connected everywhere: it's a square with lines\n    return 1.0;\n  }\n  else\n  {\n    // connected left: it's a rectangle\n    if (hasTopBorder && !inLeftBorder) return 1.0;\n    // connected top: it's a rectangle\n    if (hasLeftBorder && !inTopBorder) return 1.0;\n  }\n\n  return 0.0;\n}\n\nvoid main() {\n  // offset = center of the map in uniform coords\n  vec2 offset = u_mouse / u_resolution;\n  float zoom;\n  vec2 v_texcoord; // v_texcoord is a ratio-normalized sceen pixel in uniform coords\n  if (u_resolution.x > u_resolution.y) {\n    v_texcoord.x = gl_FragCoord.x/u_resolution.y - 0.5 - 0.5*(u_resolution.x-u_resolution.y)/u_resolution.y;\n    v_texcoord.y = gl_FragCoord.y/u_resolution.y - 0.5;\n    zoom = sizeOfTheTexture.x / u_resolution.y * tileSizeInPizels;\n  } else {\n    v_texcoord.x = gl_FragCoord.x/u_resolution.x - 0.5;\n    v_texcoord.y = gl_FragCoord.y/u_resolution.x - 0.5 - 0.5*(u_resolution.y-u_resolution.x)/u_resolution.x;\n    zoom = sizeOfTheTexture.y / u_resolution.x * tileSizeInPizels;\n  }\n  \n\n  // tileOfInterest, represented as UV coords of the MAP texture\n  vec2 tileOfInterest = v_texcoord / zoom + offset;\n\n  // render black tiles outside of the image map data-range\n  if (tileOfInterest.x > 1.0 || tileOfInterest.y > 1.0 || tileOfInterest.y < 0.0 || tileOfInterest.x < 0.0) {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    return;\n  }\n\n  // uvs of the texture for the center of coordinates\n  // and the pixel of the screen (tileOfInterest) \n  vec2 centerUv = clampToTexture(offset, sizeOfTheTexture);\n  vec2 uv = clampToTexture(tileOfInterest, sizeOfTheTexture);\n  \n  // if we are rendering the center of coordinates\n  if (length(centerUv - uv) == 0.0){\n    gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);\n    return;\n  }\n  \n  vec4 data = texture2D(u_input, uv);\n\n  if (data.a > 0.0) {\n    if (detectEdgesFloat(tileOfInterest, sizeOfTheTexture, zoom, data.r * 256.0) == 0.0)\n      gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    else\n      gl_FragColor = colorFromType(data.g * 256.0);\n  } else {\n    if (detectEdgesFloat(tileOfInterest, sizeOfTheTexture, zoom, 0.0) == 0.0)\n      gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    else\n      gl_FragColor = vec4(0.05, 0.05, 0.05, 1.0);\n  }\n}`;\n","import { render } from './Renderer'\nimport { fragmentShader } from './Shader'\n\nrender(fragmentShader)\n"]}